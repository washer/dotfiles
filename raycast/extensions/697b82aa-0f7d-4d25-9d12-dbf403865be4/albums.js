"use strict";var us=Object.create;var kr=Object.defineProperty;var ls=Object.getOwnPropertyDescriptor;var fs=Object.getOwnPropertyNames;var ds=Object.getPrototypeOf,cs=Object.prototype.hasOwnProperty;var Ut=(o,r)=>()=>(o&&(r=o(o=0)),r);var Ho=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports),Vo=(o,r)=>{for(var a in r)kr(o,a,{get:r[a],enumerable:!0})},Yo=(o,r,a,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of fs(r))!cs.call(o,u)&&u!==a&&kr(o,u,{get:()=>r[u],enumerable:!(s=ls(r,u))||s.enumerable});return o};var Je=(o,r,a)=>(a=o!=null?us(ds(o)):{},Yo(r||!o||!o.__esModule?kr(a,"default",{value:o,enumerable:!0}):a,o)),hs=o=>Yo(kr({},"__esModule",{value:!0}),o);var Ko=Ho((Dr,Go)=>{(function(o,r){typeof Dr=="object"&&typeof Go<"u"?r(Dr):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o.WebStreamsPolyfill={}))})(Dr,function(o){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function a(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let u=s();function l(e){return typeof e=="object"&&e!==null||typeof e=="function"}let d=a,g=Promise,b=Promise.prototype.then,c=Promise.resolve.bind(g),_=Promise.reject.bind(g);function v(e){return new g(e)}function S(e){return c(e)}function y(e){return _(e)}function p(e,t,n){return b.call(e,t,n)}function C(e,t,n){p(p(e,t,n),void 0,d)}function E(e,t){C(e,t)}function P(e,t){C(e,void 0,t)}function w(e,t,n){return p(e,t,n)}function U(e){p(e,void 0,d)}let D=(()=>{let e=u&&u.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return n=>p(t,n)})();function $(e,t,n){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function q(e,t,n){try{return S($(e,t,n))}catch(i){return y(i)}}let J=16384;class Y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let n=this._back,i=n;n._elements.length===J-1&&(i={_elements:[],_next:void 0}),n._elements.push(t),i!==n&&(this._back=i,n._next=i),++this._size}shift(){let t=this._front,n=t,i=this._cursor,f=i+1,h=t._elements,m=h[i];return f===J&&(n=t._next,f=0),--this._size,this._cursor=f,t!==n&&(this._front=n),h[i]=void 0,m}forEach(t){let n=this._cursor,i=this._front,f=i._elements;for(;(n!==f.length||i._next!==void 0)&&!(n===f.length&&(i=i._next,f=i._elements,n=0,f.length===0));)t(f[n]),++n}peek(){let t=this._front,n=this._cursor;return t._elements[n]}}function Tt(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?it(e):t._state==="closed"?ce(e):Jt(e,t._storedError)}function at(e,t){let n=e._ownerReadableStream;return me(n,t)}function L(e){e._ownerReadableStream._state==="readable"?Ce(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Xt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function it(e){e._closedPromise=v((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n})}function Jt(e,t){it(e),Ce(e,t)}function ce(e){it(e),er(e)}function Ce(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Xt(e,t){Jt(e,t)}function er(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let st=r("[[AbortSteps]]"),ut=r("[[ErrorSteps]]"),_e=r("[[CancelSteps]]"),je=r("[[PullSteps]]"),Ne=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Ae=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Gr(e){return typeof e=="object"||typeof e=="function"}function x(e,t){if(e!==void 0&&!Gr(e))throw new TypeError(`${t} is not an object.`)}function M(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function X(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ee(e,t){if(!X(e))throw new TypeError(`${t} is not an object.`)}function Q(e,t,n){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${n}'.`)}function Pe(e,t,n){if(e===void 0)throw new TypeError(`${t} is required in '${n}'.`)}function te(e){return Number(e)}function H(e){return e===0?0:e}function Se(e){return H(Ae(e))}function ae(e,t){let i=Number.MAX_SAFE_INTEGER,f=Number(e);if(f=H(f),!Ne(f))throw new TypeError(`${t} is not a finite number`);if(f=Se(f),f<0||f>i)throw new TypeError(`${t} is outside the accepted range of ${0} to ${i}, inclusive`);return!Ne(f)||f===0?0:f}function xe(e,t){if(!ze(e))throw new TypeError(`${t} is not a ReadableStream.`)}function fe(e){return new Et(e)}function lt(e,t){e._reader._readRequests.push(t)}function Be(e,t,n){let f=e._reader._readRequests.shift();n?f._closeSteps():f._chunkSteps(t)}function He(e){return e._reader._readRequests.length}function Mn(e){let t=e._reader;return!(t===void 0||!Fe(t))}class Et{constructor(t){if(Q(t,1,"ReadableStreamDefaultReader"),xe(t,"First parameter"),Me(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Tt(this,t),this._readRequests=new Y}get closed(){return Fe(this)?this._closedPromise:y(tr("closed"))}cancel(t=void 0){return Fe(this)?this._ownerReadableStream===void 0?y(ge("cancel")):at(this,t):y(tr("cancel"))}read(){if(!Fe(this))return y(tr("read"));if(this._ownerReadableStream===void 0)return y(ge("read from"));let t,n,i=v((h,m)=>{t=h,n=m});return Ct(this,{_chunkSteps:h=>t({value:h,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:h=>n(h)}),i}releaseLock(){if(!Fe(this))throw tr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)}}}Object.defineProperties(Et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Fe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Et}function Ct(e,t){let n=e._ownerReadableStream;n._disturbed=!0,n._state==="closed"?t._closeSteps():n._state==="errored"?t._errorSteps(n._storedError):n._readableStreamController[je](t)}function tr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Un=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class $n{constructor(t,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=n}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?w(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let n=()=>this._returnSteps(t);return this._ongoingPromise?w(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return y(ge("iterate"));let n,i,f=v((m,R)=>{n=m,i=R});return Ct(t,{_chunkSteps:m=>{this._ongoingPromise=void 0,D(()=>n({value:m,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,L(t),n({value:void 0,done:!0})},_errorSteps:m=>{this._ongoingPromise=void 0,this._isFinished=!0,L(t),i(m)}}),f}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let n=this._reader;if(n._ownerReadableStream===void 0)return y(ge("finish iterating"));if(!this._preventCancel){let i=at(n,t);return L(n),w(i,()=>({value:t,done:!0}))}return L(n),S({value:t,done:!0})}}let jn={next(){return Nn(this)?this._asyncIteratorImpl.next():y(xn("next"))},return(e){return Nn(this)?this._asyncIteratorImpl.return(e):y(xn("return"))}};Un!==void 0&&Object.setPrototypeOf(jn,Un);function Na(e,t){let n=fe(e),i=new $n(n,t),f=Object.create(jn);return f._asyncIteratorImpl=i,f}function Nn(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof $n}catch{return!1}}function xn(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Hn=Number.isNaN||function(e){return e!==e};function At(e){return e.slice()}function Vn(e,t,n,i,f){new Uint8Array(e).set(new Uint8Array(n,i,f),t)}function su(e){return e}function rr(e){return!1}function Yn(e,t,n){if(e.slice)return e.slice(t,n);let i=n-t,f=new ArrayBuffer(i);return Vn(f,0,e,t,i),f}function xa(e){return!(typeof e!="number"||Hn(e)||e<0)}function Qn(e){let t=Yn(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Kr(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Zr(e,t,n){if(!xa(n)||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function Ha(e){return e._queue.peek().value}function qe(e){e._queue=new Y,e._queueTotalSize=0}class Pt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Jr(this))throw rn("view");return this._view}respond(t){if(!Jr(this))throw rn("respond");if(Q(t,1,"respond"),t=ae(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");rr(this._view.buffer),sr(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Jr(this))throw rn("respondWithNewView");if(Q(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");rr(t.buffer),ur(this._associatedReadableByteStreamController,t)}}Object.defineProperties(Pt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ft{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ve(this))throw Ot("byobRequest");return tn(this)}get desiredSize(){if(!Ve(this))throw Ot("desiredSize");return ro(this)}close(){if(!Ve(this))throw Ot("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Bt(this)}enqueue(t){if(!Ve(this))throw Ot("enqueue");if(Q(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);ir(this,t)}error(t=void 0){if(!Ve(this))throw Ot("error");he(this,t)}[_e](t){Gn(this),qe(this);let n=this._cancelAlgorithm(t);return ar(this),n}[je](t){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0){let f=this._queue.shift();this._queueTotalSize-=f.byteLength,Xn(this);let h=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);t._chunkSteps(h);return}let i=this._autoAllocateChunkSize;if(i!==void 0){let f;try{f=new ArrayBuffer(i)}catch(m){t._errorSteps(m);return}let h={buffer:f,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(h)}lt(n,t),Ye(this)}}Object.defineProperties(ft.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ft.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ve(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof ft}function Jr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Pt}function Ye(e){if(!Ga(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let n=e._pullAlgorithm();C(n,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ye(e))},i=>{he(e,i)})}function Gn(e){en(e),e._pendingPullIntos=new Y}function Xr(e,t){let n=!1;e._state==="closed"&&(n=!0);let i=Kn(t);t.readerType==="default"?Be(e,i,n):Ja(e,i,n)}function Kn(e){let t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function nr(e,t,n,i){e._queue.push({buffer:t,byteOffset:n,byteLength:i}),e._queueTotalSize+=i}function Zn(e,t){let n=t.elementSize,i=t.bytesFilled-t.bytesFilled%n,f=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),h=t.bytesFilled+f,m=h-h%n,R=f,A=!1;m>i&&(R=m-t.bytesFilled,A=!0);let O=e._queue;for(;R>0;){let W=O.peek(),k=Math.min(R,W.byteLength),N=t.byteOffset+t.bytesFilled;Vn(t.buffer,N,W.buffer,W.byteOffset,k),W.byteLength===k?O.shift():(W.byteOffset+=k,W.byteLength-=k),e._queueTotalSize-=k,Jn(e,k,t),R-=k}return A}function Jn(e,t,n){n.bytesFilled+=t}function Xn(e){e._queueTotalSize===0&&e._closeRequested?(ar(e),zt(e._controlledReadableByteStream)):Ye(e)}function en(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Zn(e,t)&&(or(e),Xr(e._controlledReadableByteStream,t))}}function Va(e,t,n){let i=e._controlledReadableByteStream,f=1;t.constructor!==DataView&&(f=t.constructor.BYTES_PER_ELEMENT);let h=t.constructor,m=t.buffer,R={buffer:m,bufferByteLength:m.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:f,viewConstructor:h,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(R),ao(i,n);return}if(i._state==="closed"){let A=new h(R.buffer,R.byteOffset,0);n._closeSteps(A);return}if(e._queueTotalSize>0){if(Zn(e,R)){let A=Kn(R);Xn(e),n._chunkSteps(A);return}if(e._closeRequested){let A=new TypeError("Insufficient bytes to fill elements in the given buffer");he(e,A),n._errorSteps(A);return}}e._pendingPullIntos.push(R),ao(i,n),Ye(e)}function Ya(e,t){let n=e._controlledReadableByteStream;if(nn(n))for(;io(n)>0;){let i=or(e);Xr(n,i)}}function Qa(e,t,n){if(Jn(e,t,n),n.bytesFilled<n.elementSize)return;or(e);let i=n.bytesFilled%n.elementSize;if(i>0){let f=n.byteOffset+n.bytesFilled,h=Yn(n.buffer,f-i,f);nr(e,h,0,h.byteLength)}n.bytesFilled-=i,Xr(e._controlledReadableByteStream,n),eo(e)}function to(e,t){let n=e._pendingPullIntos.peek();en(e),e._controlledReadableByteStream._state==="closed"?Ya(e):Qa(e,t,n),Ye(e)}function or(e){return e._pendingPullIntos.shift()}function Ga(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Mn(t)&&He(t)>0||nn(t)&&io(t)>0||ro(e)>0)}function ar(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Bt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw he(e,i),i}ar(e),zt(t)}}function ir(e,t){let n=e._controlledReadableByteStream;if(e._closeRequested||n._state!=="readable")return;let i=t.buffer,f=t.byteOffset,h=t.byteLength,m=i;if(e._pendingPullIntos.length>0){let R=e._pendingPullIntos.peek();rr(R.buffer),R.buffer=R.buffer}if(en(e),Mn(n))if(He(n)===0)nr(e,m,f,h);else{e._pendingPullIntos.length>0&&or(e);let R=new Uint8Array(m,f,h);Be(n,R,!1)}else nn(n)?(nr(e,m,f,h),eo(e)):nr(e,m,f,h);Ye(e)}function he(e,t){let n=e._controlledReadableByteStream;n._state==="readable"&&(Gn(e),qe(e),ar(e),Wo(n,t))}function tn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(Pt.prototype);Za(i,e,n),e._byobRequest=i}return e._byobRequest}function ro(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function sr(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,to(e,t)}function ur(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let f=t.byteLength;n.buffer=t.buffer,to(e,f)}function no(e,t,n,i,f,h,m){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,qe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=h,t._pullAlgorithm=i,t._cancelAlgorithm=f,t._autoAllocateChunkSize=m,t._pendingPullIntos=new Y,e._readableStreamController=t;let R=n();C(S(R),()=>{t._started=!0,Ye(t)},A=>{he(t,A)})}function Ka(e,t,n){let i=Object.create(ft.prototype),f=()=>{},h=()=>S(void 0),m=()=>S(void 0);t.start!==void 0&&(f=()=>t.start(i)),t.pull!==void 0&&(h=()=>t.pull(i)),t.cancel!==void 0&&(m=A=>t.cancel(A));let R=t.autoAllocateChunkSize;if(R===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");no(e,i,f,h,m,n,R)}function Za(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function rn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ot(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function oo(e){return new Wt(e)}function ao(e,t){e._reader._readIntoRequests.push(t)}function Ja(e,t,n){let f=e._reader._readIntoRequests.shift();n?f._closeSteps(t):f._chunkSteps(t)}function io(e){return e._reader._readIntoRequests.length}function nn(e){let t=e._reader;return!(t===void 0||!Qe(t))}class Wt{constructor(t){if(Q(t,1,"ReadableStreamBYOBReader"),xe(t,"First parameter"),Me(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ve(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Tt(this,t),this._readIntoRequests=new Y}get closed(){return Qe(this)?this._closedPromise:y(lr("closed"))}cancel(t=void 0){return Qe(this)?this._ownerReadableStream===void 0?y(ge("cancel")):at(this,t):y(lr("cancel"))}read(t){if(!Qe(this))return y(lr("read"));if(!ArrayBuffer.isView(t))return y(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(rr(t.buffer),this._ownerReadableStream===void 0)return y(ge("read from"));let n,i,f=v((m,R)=>{n=m,i=R});return so(this,t,{_chunkSteps:m=>n({value:m,done:!1}),_closeSteps:m=>n({value:m,done:!0}),_errorSteps:m=>i(m)}),f}releaseLock(){if(!Qe(this))throw lr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)}}}Object.defineProperties(Wt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Qe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Wt}function so(e,t,n){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="errored"?n._errorSteps(i._storedError):Va(i._readableStreamController,t,n)}function lr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function kt(e,t){let{highWaterMark:n}=e;if(n===void 0)return t;if(Hn(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function fr(e){let{size:t}=e;return t||(()=>1)}function dr(e,t){x(e,t);let n=e?.highWaterMark,i=e?.size;return{highWaterMark:n===void 0?void 0:te(n),size:i===void 0?void 0:Xa(i,`${t} has member 'size' that`)}}function Xa(e,t){return M(e,t),n=>te(e(n))}function ei(e,t){x(e,t);let n=e?.abort,i=e?.close,f=e?.start,h=e?.type,m=e?.write;return{abort:n===void 0?void 0:ti(n,e,`${t} has member 'abort' that`),close:i===void 0?void 0:ri(i,e,`${t} has member 'close' that`),start:f===void 0?void 0:ni(f,e,`${t} has member 'start' that`),write:m===void 0?void 0:oi(m,e,`${t} has member 'write' that`),type:h}}function ti(e,t,n){return M(e,n),i=>q(e,t,[i])}function ri(e,t,n){return M(e,n),()=>q(e,t,[])}function ni(e,t,n){return M(e,n),i=>$(e,t,[i])}function oi(e,t,n){return M(e,n),(i,f)=>q(e,t,[i,f])}function uo(e,t){if(!dt(e))throw new TypeError(`${t} is not a WritableStream.`)}function ai(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let ii=typeof AbortController=="function";function si(){if(ii)return new AbortController}class Dt{constructor(t={},n={}){t===void 0?t=null:ee(t,"First parameter");let i=dr(n,"Second parameter"),f=ei(t,"First parameter");if(fo(this),f.type!==void 0)throw new RangeError("Invalid type is specified");let m=fr(i),R=kt(i,1);wi(this,f,R,m)}get locked(){if(!dt(this))throw pr("locked");return ct(this)}abort(t=void 0){return dt(this)?ct(this)?y(new TypeError("Cannot abort a stream that already has a writer")):cr(this,t):y(pr("abort"))}close(){return dt(this)?ct(this)?y(new TypeError("Cannot close a stream that already has a writer")):we(this)?y(new TypeError("Cannot close an already-closing stream")):co(this):y(pr("close"))}getWriter(){if(!dt(this))throw pr("getWriter");return lo(this)}}Object.defineProperties(Dt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function lo(e){return new Ft(e)}function ui(e,t,n,i,f=1,h=()=>1){let m=Object.create(Dt.prototype);fo(m);let R=Object.create(ht.prototype);return go(m,R,e,t,n,i,f,h),m}function fo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Y,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function dt(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Dt}function ct(e){return e._writer!==void 0}function cr(e,t){var n;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(n=e._writableStreamController._abortController)===null||n===void 0||n.abort();let i=e._state;if(i==="closed"||i==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let f=!1;i==="erroring"&&(f=!0,t=void 0);let h=v((m,R)=>{e._pendingAbortRequest={_promise:void 0,_resolve:m,_reject:R,_reason:t,_wasAlreadyErroring:f}});return e._pendingAbortRequest._promise=h,f||an(e,t),h}function co(e){let t=e._state;if(t==="closed"||t==="errored")return y(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let n=v((f,h)=>{let m={_resolve:f,_reject:h};e._closeRequest=m}),i=e._writer;return i!==void 0&&e._backpressure&&t==="writable"&&bn(i),Ri(e._writableStreamController),n}function li(e){return v((n,i)=>{let f={_resolve:n,_reject:i};e._writeRequests.push(f)})}function on(e,t){if(e._state==="writable"){an(e,t);return}sn(e)}function an(e,t){let n=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;i!==void 0&&mo(i,t),!mi(e)&&n._started&&sn(e)}function sn(e){e._state="errored",e._writableStreamController[ut]();let t=e._storedError;if(e._writeRequests.forEach(f=>{f._reject(t)}),e._writeRequests=new Y,e._pendingAbortRequest===void 0){hr(e);return}let n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring){n._reject(t),hr(e);return}let i=e._writableStreamController[st](n._reason);C(i,()=>{n._resolve(),hr(e)},f=>{n._reject(f),hr(e)})}function fi(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function di(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,on(e,t)}function ci(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let n=e._writer;n!==void 0&&Ro(n)}function hi(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),on(e,t)}function we(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function mi(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function bi(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function pi(e){e._inFlightWriteRequest=e._writeRequests.shift()}function hr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&hn(t,e._storedError)}function un(e,t){let n=e._writer;n!==void 0&&t!==e._backpressure&&(t?Bi(n):bn(n)),e._backpressure=t}class Ft{constructor(t){if(Q(t,1,"WritableStreamDefaultWriter"),uo(t,"First parameter"),ct(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let n=t._state;if(n==="writable")!we(t)&&t._backpressure?gr(this):vo(this),yr(this);else if(n==="erroring")mn(this,t._storedError),yr(this);else if(n==="closed")vo(this),Ai(this);else{let i=t._storedError;mn(this,i),wo(this,i)}}get closed(){return Ge(this)?this._closedPromise:y(Ke("closed"))}get desiredSize(){if(!Ge(this))throw Ke("desiredSize");if(this._ownerWritableStream===void 0)throw qt("desiredSize");return Si(this)}get ready(){return Ge(this)?this._readyPromise:y(Ke("ready"))}abort(t=void 0){return Ge(this)?this._ownerWritableStream===void 0?y(qt("abort")):yi(this,t):y(Ke("abort"))}close(){if(!Ge(this))return y(Ke("close"));let t=this._ownerWritableStream;return t===void 0?y(qt("close")):we(t)?y(new TypeError("Cannot close an already-closing stream")):ho(this)}releaseLock(){if(!Ge(this))throw Ke("releaseLock");this._ownerWritableStream!==void 0&&bo(this)}write(t=void 0){return Ge(this)?this._ownerWritableStream===void 0?y(qt("write to")):po(this,t):y(Ke("write"))}}Object.defineProperties(Ft.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ft.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ge(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Ft}function yi(e,t){let n=e._ownerWritableStream;return cr(n,t)}function ho(e){let t=e._ownerWritableStream;return co(t)}function gi(e){let t=e._ownerWritableStream,n=t._state;return we(t)||n==="closed"?S(void 0):n==="errored"?y(t._storedError):ho(e)}function _i(e,t){e._closedPromiseState==="pending"?hn(e,t):Pi(e,t)}function mo(e,t){e._readyPromiseState==="pending"?To(e,t):Oi(e,t)}function Si(e){let t=e._ownerWritableStream,n=t._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:_o(t._writableStreamController)}function bo(e){let t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");mo(e,n),_i(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function po(e,t){let n=e._ownerWritableStream,i=n._writableStreamController,f=vi(i,t);if(n!==e._ownerWritableStream)return y(qt("write to"));let h=n._state;if(h==="errored")return y(n._storedError);if(we(n)||h==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(h==="erroring")return y(n._storedError);let m=li(n);return Ti(i,t,f),m}let yo={};class ht{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ln(this))throw cn("abortReason");return this._abortReason}get signal(){if(!ln(this))throw cn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!ln(this))throw cn("error");this._controlledWritableStream._state==="writable"&&So(this,t)}[st](t){let n=this._abortAlgorithm(t);return mr(this),n}[ut](){qe(this)}}Object.defineProperties(ht.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ht.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ln(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ht}function go(e,t,n,i,f,h,m,R){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,qe(t),t._abortReason=void 0,t._abortController=si(),t._started=!1,t._strategySizeAlgorithm=R,t._strategyHWM=m,t._writeAlgorithm=i,t._closeAlgorithm=f,t._abortAlgorithm=h;let A=dn(t);un(e,A);let O=n(),W=S(O);C(W,()=>{t._started=!0,br(t)},k=>{t._started=!0,on(e,k)})}function wi(e,t,n,i){let f=Object.create(ht.prototype),h=()=>{},m=()=>S(void 0),R=()=>S(void 0),A=()=>S(void 0);t.start!==void 0&&(h=()=>t.start(f)),t.write!==void 0&&(m=O=>t.write(O,f)),t.close!==void 0&&(R=()=>t.close()),t.abort!==void 0&&(A=O=>t.abort(O)),go(e,f,h,m,R,A,n,i)}function mr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ri(e){Zr(e,yo,0),br(e)}function vi(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return fn(e,n),1}}function _o(e){return e._strategyHWM-e._queueTotalSize}function Ti(e,t,n){try{Zr(e,t,n)}catch(f){fn(e,f);return}let i=e._controlledWritableStream;if(!we(i)&&i._state==="writable"){let f=dn(e);un(i,f)}br(e)}function br(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){sn(t);return}if(e._queue.length===0)return;let i=Ha(e);i===yo?Ei(e):Ci(e,i)}function fn(e,t){e._controlledWritableStream._state==="writable"&&So(e,t)}function Ei(e){let t=e._controlledWritableStream;bi(t),Kr(e);let n=e._closeAlgorithm();mr(e),C(n,()=>{ci(t)},i=>{hi(t,i)})}function Ci(e,t){let n=e._controlledWritableStream;pi(n);let i=e._writeAlgorithm(t);C(i,()=>{fi(n);let f=n._state;if(Kr(e),!we(n)&&f==="writable"){let h=dn(e);un(n,h)}br(e)},f=>{n._state==="writable"&&mr(e),di(n,f)})}function dn(e){return _o(e)<=0}function So(e,t){let n=e._controlledWritableStream;mr(e),an(n,t)}function pr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function cn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ke(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function qt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function yr(e){e._closedPromise=v((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function wo(e,t){yr(e),hn(e,t)}function Ai(e){yr(e),Ro(e)}function hn(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Pi(e,t){wo(e,t)}function Ro(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function gr(e){e._readyPromise=v((t,n)=>{e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function mn(e,t){gr(e),To(e,t)}function vo(e){gr(e),bn(e)}function To(e,t){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Bi(e){gr(e)}function Oi(e,t){mn(e,t)}function bn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Eo=typeof DOMException<"u"?DOMException:void 0;function Wi(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function ki(){let e=function(n,i){this.message=n||"",this.name=i||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Di=Wi(Eo)?Eo:ki();function Co(e,t,n,i,f,h){let m=fe(e),R=lo(t);e._disturbed=!0;let A=!1,O=S(void 0);return v((W,k)=>{let N;if(h!==void 0){if(N=()=>{let T=new Di("Aborted","AbortError"),B=[];i||B.push(()=>t._state==="writable"?cr(t,T):S(void 0)),f||B.push(()=>e._state==="readable"?me(e,T):S(void 0)),re(()=>Promise.all(B.map(I=>I())),!0,T)},h.aborted){N();return}h.addEventListener("abort",N)}function be(){return v((T,B)=>{function I(ie){ie?T():p(pt(),I,B)}I(!1)})}function pt(){return A?S(!0):p(R._readyPromise,()=>v((T,B)=>{Ct(m,{_chunkSteps:I=>{O=p(po(R,I),void 0,a),T(!1)},_closeSteps:()=>T(!0),_errorSteps:B})}))}if(Oe(e,m._closedPromise,T=>{i?de(!0,T):re(()=>cr(t,T),!0,T)}),Oe(t,R._closedPromise,T=>{f?de(!0,T):re(()=>me(e,T),!0,T)}),G(e,m._closedPromise,()=>{n?de():re(()=>gi(R))}),we(t)||t._state==="closed"){let T=new TypeError("the destination writable stream closed before all data could be piped to it");f?de(!0,T):re(()=>me(e,T),!0,T)}U(be());function Ue(){let T=O;return p(O,()=>T!==O?Ue():void 0)}function Oe(T,B,I){T._state==="errored"?I(T._storedError):P(B,I)}function G(T,B,I){T._state==="closed"?I():E(B,I)}function re(T,B,I){if(A)return;A=!0,t._state==="writable"&&!we(t)?E(Ue(),ie):ie();function ie(){C(T(),()=>We(B,I),yt=>We(!0,yt))}}function de(T,B){A||(A=!0,t._state==="writable"&&!we(t)?E(Ue(),()=>We(T,B)):We(T,B))}function We(T,B){bo(R),L(m),h!==void 0&&h.removeEventListener("abort",N),T?k(B):W(void 0)}})}class mt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!_r(this))throw Rr("desiredSize");return pn(this)}close(){if(!_r(this))throw Rr("close");if(!bt(this))throw new TypeError("The stream is not in a state that permits close");It(this)}enqueue(t=void 0){if(!_r(this))throw Rr("enqueue");if(!bt(this))throw new TypeError("The stream is not in a state that permits enqueue");return wr(this,t)}error(t=void 0){if(!_r(this))throw Rr("error");Le(this,t)}[_e](t){qe(this);let n=this._cancelAlgorithm(t);return Sr(this),n}[je](t){let n=this._controlledReadableStream;if(this._queue.length>0){let i=Kr(this);this._closeRequested&&this._queue.length===0?(Sr(this),zt(n)):Lt(this),t._chunkSteps(i)}else lt(n,t),Lt(this)}}Object.defineProperties(mt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function _r(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof mt}function Lt(e){if(!Ao(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let n=e._pullAlgorithm();C(n,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Lt(e))},i=>{Le(e,i)})}function Ao(e){let t=e._controlledReadableStream;return!bt(e)||!e._started?!1:!!(Me(t)&&He(t)>0||pn(e)>0)}function Sr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function It(e){if(!bt(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Sr(e),zt(t))}function wr(e,t){if(!bt(e))return;let n=e._controlledReadableStream;if(Me(n)&&He(n)>0)Be(n,t,!1);else{let i;try{i=e._strategySizeAlgorithm(t)}catch(f){throw Le(e,f),f}try{Zr(e,t,i)}catch(f){throw Le(e,f),f}}Lt(e)}function Le(e,t){let n=e._controlledReadableStream;n._state==="readable"&&(qe(e),Sr(e),Wo(n,t))}function pn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Fi(e){return!Ao(e)}function bt(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Po(e,t,n,i,f,h,m){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,qe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=m,t._strategyHWM=h,t._pullAlgorithm=i,t._cancelAlgorithm=f,e._readableStreamController=t;let R=n();C(S(R),()=>{t._started=!0,Lt(t)},A=>{Le(t,A)})}function qi(e,t,n,i){let f=Object.create(mt.prototype),h=()=>{},m=()=>S(void 0),R=()=>S(void 0);t.start!==void 0&&(h=()=>t.start(f)),t.pull!==void 0&&(m=()=>t.pull(f)),t.cancel!==void 0&&(R=A=>t.cancel(A)),Po(e,f,h,m,R,n,i)}function Rr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Li(e,t){return Ve(e._readableStreamController)?zi(e):Ii(e)}function Ii(e,t){let n=fe(e),i=!1,f=!1,h=!1,m=!1,R,A,O,W,k,N=v(G=>{k=G});function be(){return i?(f=!0,S(void 0)):(i=!0,Ct(n,{_chunkSteps:re=>{D(()=>{f=!1;let de=re,We=re;h||wr(O._readableStreamController,de),m||wr(W._readableStreamController,We),i=!1,f&&be()})},_closeSteps:()=>{i=!1,h||It(O._readableStreamController),m||It(W._readableStreamController),(!h||!m)&&k(void 0)},_errorSteps:()=>{i=!1}}),S(void 0))}function pt(G){if(h=!0,R=G,m){let re=At([R,A]),de=me(e,re);k(de)}return N}function Ue(G){if(m=!0,A=G,h){let re=At([R,A]),de=me(e,re);k(de)}return N}function Oe(){}return O=yn(Oe,be,pt),W=yn(Oe,be,Ue),P(n._closedPromise,G=>{Le(O._readableStreamController,G),Le(W._readableStreamController,G),(!h||!m)&&k(void 0)}),[O,W]}function zi(e){let t=fe(e),n=!1,i=!1,f=!1,h=!1,m=!1,R,A,O,W,k,N=v(T=>{k=T});function be(T){P(T._closedPromise,B=>{T===t&&(he(O._readableStreamController,B),he(W._readableStreamController,B),(!h||!m)&&k(void 0))})}function pt(){Qe(t)&&(L(t),t=fe(e),be(t)),Ct(t,{_chunkSteps:B=>{D(()=>{i=!1,f=!1;let I=B,ie=B;if(!h&&!m)try{ie=Qn(B)}catch(yt){he(O._readableStreamController,yt),he(W._readableStreamController,yt),k(me(e,yt));return}h||ir(O._readableStreamController,I),m||ir(W._readableStreamController,ie),n=!1,i?Oe():f&&G()})},_closeSteps:()=>{n=!1,h||Bt(O._readableStreamController),m||Bt(W._readableStreamController),O._readableStreamController._pendingPullIntos.length>0&&sr(O._readableStreamController,0),W._readableStreamController._pendingPullIntos.length>0&&sr(W._readableStreamController,0),(!h||!m)&&k(void 0)},_errorSteps:()=>{n=!1}})}function Ue(T,B){Fe(t)&&(L(t),t=oo(e),be(t));let I=B?W:O,ie=B?O:W;so(t,T,{_chunkSteps:gt=>{D(()=>{i=!1,f=!1;let _t=B?m:h;if(B?h:m)_t||ur(I._readableStreamController,gt);else{let xo;try{xo=Qn(gt)}catch(_n){he(I._readableStreamController,_n),he(ie._readableStreamController,_n),k(me(e,_n));return}_t||ur(I._readableStreamController,gt),ir(ie._readableStreamController,xo)}n=!1,i?Oe():f&&G()})},_closeSteps:gt=>{n=!1;let _t=B?m:h,Wr=B?h:m;_t||Bt(I._readableStreamController),Wr||Bt(ie._readableStreamController),gt!==void 0&&(_t||ur(I._readableStreamController,gt),!Wr&&ie._readableStreamController._pendingPullIntos.length>0&&sr(ie._readableStreamController,0)),(!_t||!Wr)&&k(void 0)},_errorSteps:()=>{n=!1}})}function Oe(){if(n)return i=!0,S(void 0);n=!0;let T=tn(O._readableStreamController);return T===null?pt():Ue(T._view,!1),S(void 0)}function G(){if(n)return f=!0,S(void 0);n=!0;let T=tn(W._readableStreamController);return T===null?pt():Ue(T._view,!0),S(void 0)}function re(T){if(h=!0,R=T,m){let B=At([R,A]),I=me(e,B);k(I)}return N}function de(T){if(m=!0,A=T,h){let B=At([R,A]),I=me(e,B);k(I)}return N}function We(){}return O=Oo(We,Oe,re),W=Oo(We,G,de),be(t),[O,W]}function Mi(e,t){x(e,t);let n=e,i=n?.autoAllocateChunkSize,f=n?.cancel,h=n?.pull,m=n?.start,R=n?.type;return{autoAllocateChunkSize:i===void 0?void 0:ae(i,`${t} has member 'autoAllocateChunkSize' that`),cancel:f===void 0?void 0:Ui(f,n,`${t} has member 'cancel' that`),pull:h===void 0?void 0:$i(h,n,`${t} has member 'pull' that`),start:m===void 0?void 0:ji(m,n,`${t} has member 'start' that`),type:R===void 0?void 0:Ni(R,`${t} has member 'type' that`)}}function Ui(e,t,n){return M(e,n),i=>q(e,t,[i])}function $i(e,t,n){return M(e,n),i=>q(e,t,[i])}function ji(e,t,n){return M(e,n),i=>$(e,t,[i])}function Ni(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function xi(e,t){x(e,t);let n=e?.mode;return{mode:n===void 0?void 0:Hi(n,`${t} has member 'mode' that`)}}function Hi(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Vi(e,t){x(e,t);let n=e?.preventCancel;return{preventCancel:Boolean(n)}}function Bo(e,t){x(e,t);let n=e?.preventAbort,i=e?.preventCancel,f=e?.preventClose,h=e?.signal;return h!==void 0&&Yi(h,`${t} has member 'signal' that`),{preventAbort:Boolean(n),preventCancel:Boolean(i),preventClose:Boolean(f),signal:h}}function Yi(e,t){if(!ai(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Qi(e,t){x(e,t);let n=e?.readable;Pe(n,"readable","ReadableWritablePair"),xe(n,`${t} has member 'readable' that`);let i=e?.writable;return Pe(i,"writable","ReadableWritablePair"),uo(i,`${t} has member 'writable' that`),{readable:n,writable:i}}class Ie{constructor(t={},n={}){t===void 0?t=null:ee(t,"First parameter");let i=dr(n,"Second parameter"),f=Mi(t,"First parameter");if(gn(this),f.type==="bytes"){if(i.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let h=kt(i,0);Ka(this,f,h)}else{let h=fr(i),m=kt(i,1);qi(this,f,m,h)}}get locked(){if(!ze(this))throw Ze("locked");return Me(this)}cancel(t=void 0){return ze(this)?Me(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):me(this,t):y(Ze("cancel"))}getReader(t=void 0){if(!ze(this))throw Ze("getReader");return xi(t,"First parameter").mode===void 0?fe(this):oo(this)}pipeThrough(t,n={}){if(!ze(this))throw Ze("pipeThrough");Q(t,1,"pipeThrough");let i=Qi(t,"First parameter"),f=Bo(n,"Second parameter");if(Me(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ct(i.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let h=Co(this,i.writable,f.preventClose,f.preventAbort,f.preventCancel,f.signal);return U(h),i.readable}pipeTo(t,n={}){if(!ze(this))return y(Ze("pipeTo"));if(t===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!dt(t))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let i;try{i=Bo(n,"Second parameter")}catch(f){return y(f)}return Me(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ct(t)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Co(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)}tee(){if(!ze(this))throw Ze("tee");let t=Li(this);return At(t)}values(t=void 0){if(!ze(this))throw Ze("values");let n=Vi(t,"First parameter");return Na(this,n.preventCancel)}}Object.defineProperties(Ie.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ie.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Ie.prototype,r.asyncIterator,{value:Ie.prototype.values,writable:!0,configurable:!0});function yn(e,t,n,i=1,f=()=>1){let h=Object.create(Ie.prototype);gn(h);let m=Object.create(mt.prototype);return Po(h,m,e,t,n,i,f),h}function Oo(e,t,n){let i=Object.create(Ie.prototype);gn(i);let f=Object.create(ft.prototype);return no(i,f,e,t,n,0,void 0),i}function gn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ze(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ie}function Me(e){return e._reader!==void 0}function me(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return y(e._storedError);zt(e);let n=e._reader;n!==void 0&&Qe(n)&&(n._readIntoRequests.forEach(f=>{f._closeSteps(void 0)}),n._readIntoRequests=new Y);let i=e._readableStreamController[_e](t);return w(i,a)}function zt(e){e._state="closed";let t=e._reader;t!==void 0&&(er(t),Fe(t)&&(t._readRequests.forEach(n=>{n._closeSteps()}),t._readRequests=new Y))}function Wo(e,t){e._state="errored",e._storedError=t;let n=e._reader;n!==void 0&&(Ce(n,t),Fe(n)?(n._readRequests.forEach(i=>{i._errorSteps(t)}),n._readRequests=new Y):(n._readIntoRequests.forEach(i=>{i._errorSteps(t)}),n._readIntoRequests=new Y))}function Ze(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function ko(e,t){x(e,t);let n=e?.highWaterMark;return Pe(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:te(n)}}let Do=e=>e.byteLength;Object.defineProperty(Do,"name",{value:"size",configurable:!0});class vr{constructor(t){Q(t,1,"ByteLengthQueuingStrategy"),t=ko(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!qo(this))throw Fo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!qo(this))throw Fo("size");return Do}}Object.defineProperties(vr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(vr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Fo(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function qo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof vr}let Lo=()=>1;Object.defineProperty(Lo,"name",{value:"size",configurable:!0});class Tr{constructor(t){Q(t,1,"CountQueuingStrategy"),t=ko(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!zo(this))throw Io("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!zo(this))throw Io("size");return Lo}}Object.defineProperties(Tr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Io(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function zo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Tr}function Gi(e,t){x(e,t);let n=e?.flush,i=e?.readableType,f=e?.start,h=e?.transform,m=e?.writableType;return{flush:n===void 0?void 0:Ki(n,e,`${t} has member 'flush' that`),readableType:i,start:f===void 0?void 0:Zi(f,e,`${t} has member 'start' that`),transform:h===void 0?void 0:Ji(h,e,`${t} has member 'transform' that`),writableType:m}}function Ki(e,t,n){return M(e,n),i=>q(e,t,[i])}function Zi(e,t,n){return M(e,n),i=>$(e,t,[i])}function Ji(e,t,n){return M(e,n),(i,f)=>q(e,t,[i,f])}class Er{constructor(t={},n={},i={}){t===void 0&&(t=null);let f=dr(n,"Second parameter"),h=dr(i,"Third parameter"),m=Gi(t,"First parameter");if(m.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(m.writableType!==void 0)throw new RangeError("Invalid writableType specified");let R=kt(h,0),A=fr(h),O=kt(f,1),W=fr(f),k,N=v(be=>{k=be});Xi(this,N,O,W,R,A),ts(this,m),m.start!==void 0?k(m.start(this._transformStreamController)):k(void 0)}get readable(){if(!Mo(this))throw No("readable");return this._readable}get writable(){if(!Mo(this))throw No("writable");return this._writable}}Object.defineProperties(Er.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Er.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Xi(e,t,n,i,f,h){function m(){return t}function R(N){return os(e,N)}function A(N){return as(e,N)}function O(){return is(e)}e._writable=ui(m,R,O,A,n,i);function W(){return ss(e)}function k(N){return Ar(e,N),S(void 0)}e._readable=yn(m,W,k,f,h),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Pr(e,!0),e._transformStreamController=void 0}function Mo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Er}function Cr(e,t){Le(e._readable._readableStreamController,t),Ar(e,t)}function Ar(e,t){Uo(e._transformStreamController),fn(e._writable._writableStreamController,t),e._backpressure&&Pr(e,!1)}function Pr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=v(n=>{e._backpressureChangePromise_resolve=n}),e._backpressure=t}class Mt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Br(this))throw Or("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return pn(t)}enqueue(t=void 0){if(!Br(this))throw Or("enqueue");$o(this,t)}error(t=void 0){if(!Br(this))throw Or("error");rs(this,t)}terminate(){if(!Br(this))throw Or("terminate");ns(this)}}Object.defineProperties(Mt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Mt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Br(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Mt}function es(e,t,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=i}function ts(e,t){let n=Object.create(Mt.prototype),i=h=>{try{return $o(n,h),S(void 0)}catch(m){return y(m)}},f=()=>S(void 0);t.transform!==void 0&&(i=h=>t.transform(h,n)),t.flush!==void 0&&(f=()=>t.flush(n)),es(e,n,i,f)}function Uo(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function $o(e,t){let n=e._controlledTransformStream,i=n._readable._readableStreamController;if(!bt(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{wr(i,t)}catch(h){throw Ar(n,h),n._readable._storedError}Fi(i)!==n._backpressure&&Pr(n,!0)}function rs(e,t){Cr(e._controlledTransformStream,t)}function jo(e,t){let n=e._transformAlgorithm(t);return w(n,void 0,i=>{throw Cr(e._controlledTransformStream,i),i})}function ns(e){let t=e._controlledTransformStream,n=t._readable._readableStreamController;It(n);let i=new TypeError("TransformStream terminated");Ar(t,i)}function os(e,t){let n=e._transformStreamController;if(e._backpressure){let i=e._backpressureChangePromise;return w(i,()=>{let f=e._writable;if(f._state==="erroring")throw f._storedError;return jo(n,t)})}return jo(n,t)}function as(e,t){return Cr(e,t),S(void 0)}function is(e){let t=e._readable,n=e._transformStreamController,i=n._flushAlgorithm();return Uo(n),w(i,()=>{if(t._state==="errored")throw t._storedError;It(t._readableStreamController)},f=>{throw Cr(e,f),t._storedError})}function ss(e){return Pr(e,!1),e._backpressureChangePromise}function Or(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function No(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}o.ByteLengthQueuingStrategy=vr,o.CountQueuingStrategy=Tr,o.ReadableByteStreamController=ft,o.ReadableStream=Ie,o.ReadableStreamBYOBReader=Wt,o.ReadableStreamBYOBRequest=Pt,o.ReadableStreamDefaultController=mt,o.ReadableStreamDefaultReader=Et,o.TransformStream=Er,o.TransformStreamDefaultController=Mt,o.WritableStream=Dt,o.WritableStreamDefaultController=ht,o.WritableStreamDefaultWriter=Ft,Object.defineProperty(o,"__esModule",{value:!0})})});var Zo=Ho(()=>{if(!globalThis.ReadableStream)try{let o=require("node:process"),{emitWarning:r}=o;try{o.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),o.emitWarning=r}catch(a){throw o.emitWarning=r,a}}catch{Object.assign(globalThis,Ko())}try{let{Blob:o}=require("buffer");o&&!o.prototype.stream&&(o.prototype.stream=function(a){let s=0,u=this;return new ReadableStream({type:"bytes",async pull(l){let g=await u.slice(s,Math.min(u.size,s+65536)).arrayBuffer();s+=g.byteLength,l.enqueue(new Uint8Array(g)),s===u.size&&l.close()}})})}catch{}});async function*Sn(o,r=!0){for(let a of o)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a))if(r){let s=a.byteOffset,u=a.byteOffset+a.byteLength;for(;s!==u;){let l=Math.min(u-s,Jo),d=a.buffer.slice(s,s+l);s+=d.byteLength,yield new Uint8Array(d)}}else yield a;else{let s=0;for(;s!==a.size;){let l=await a.slice(s,Math.min(a.size,s+Jo)).arrayBuffer();s+=l.byteLength,yield new Uint8Array(l)}}}var cu,Jo,Xo,bs,Xe,$t=Ut(()=>{cu=Je(Zo(),1);Jo=65536;Xo=class wn{#e=[];#t="";#r=0;constructor(r=[],a={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof a!="object"&&typeof a!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");a===null&&(a={});let s=new TextEncoder;for(let l of r){let d;ArrayBuffer.isView(l)?d=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?d=new Uint8Array(l.slice(0)):l instanceof wn?d=l:d=s.encode(l),this.#r+=ArrayBuffer.isView(d)?d.byteLength:d.size,this.#e.push(d)}let u=a.type===void 0?"":String(a.type);this.#t=/^[\x20-\x7E]*$/.test(u)?u:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,a="";for await(let s of Sn(this.#e,!1))a+=r.decode(s,{stream:!0});return a+=r.decode(),a}async arrayBuffer(){let r=new Uint8Array(this.size),a=0;for await(let s of Sn(this.#e,!1))r.set(s,a),a+=s.length;return r.buffer}stream(){let r=Sn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(a){let s=await r.next();s.done?a.close():a.enqueue(s.value)},async cancel(){await r.return()}})}slice(r=0,a=this.size,s=""){let{size:u}=this,l=r<0?Math.max(u+r,0):Math.min(r,u),d=a<0?Math.max(u+a,0):Math.min(a,u),g=Math.max(d-l,0),b=this.#e,c=[],_=0;for(let S of b){if(_>=g)break;let y=ArrayBuffer.isView(S)?S.byteLength:S.size;if(l&&y<=l)l-=y,d-=y;else{let p;ArrayBuffer.isView(S)?(p=S.subarray(l,Math.min(y,d)),_+=p.byteLength):(p=S.slice(l,Math.min(y,d)),_+=p.size),d-=y,c.push(p),l=0}}let v=new wn([],{type:String(s).toLowerCase()});return v.#r=g,v.#e=c,v}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(Xo.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});bs=Xo,Xe=bs});var ps,ys,jt,Rn=Ut(()=>{$t();ps=class extends Xe{#e=0;#t="";constructor(r,a,s={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,s),s===null&&(s={});let u=s.lastModified===void 0?Date.now():Number(s.lastModified);Number.isNaN(u)||(this.#e=u),this.#t=String(a)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}},ys=ps,jt=ys});function ra(o,r=Xe){var a=`${ea()}${ea()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],u=`--${a}\r
Content-Disposition: form-data; name="`;return o.forEach((l,d)=>typeof l=="string"?s.push(u+vn(d)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(u+vn(d)+`"; filename="${vn(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),s.push(`--${a}--`),new r(s,{type:"multipart/form-data; boundary="+a})}var Nt,gs,_s,ea,Ss,ta,vn,et,St,Tn=Ut(()=>{$t();Rn();({toStringTag:Nt,iterator:gs,hasInstance:_s}=Symbol),ea=Math.random,Ss="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ta=(o,r,a)=>(o+="",/^(Blob|File)$/.test(r&&r[Nt])?[(a=a!==void 0?a+"":r[Nt]=="File"?r.name:"blob",o),r.name!==a||r[Nt]=="blob"?new jt([r],a,r):r]:[o,r+""]),vn=(o,r)=>(r?o:o.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),et=(o,r,a)=>{if(r.length<a)throw new TypeError(`Failed to execute '${o}' on 'FormData': ${a} arguments required, but only ${r.length} present.`)},St=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Nt](){return"FormData"}[gs](){return this.entries()}static[_s](r){return r&&typeof r=="object"&&r[Nt]==="FormData"&&!Ss.some(a=>typeof r[a]!="function")}append(...r){et("append",arguments,2),this.#e.push(ta(...r))}delete(r){et("delete",arguments,1),r+="",this.#e=this.#e.filter(([a])=>a!==r)}get(r){et("get",arguments,1),r+="";for(var a=this.#e,s=a.length,u=0;u<s;u++)if(a[u][0]===r)return a[u][1];return null}getAll(r,a){return et("getAll",arguments,1),a=[],r+="",this.#e.forEach(s=>s[0]===r&&a.push(s[1])),a}has(r){return et("has",arguments,1),r+="",this.#e.some(a=>a[0]===r)}forEach(r,a){et("forEach",arguments,1);for(var[s,u]of this)r.call(a,u,s,this)}set(...r){et("set",arguments,2);var a=[],s=!0;r=ta(...r),this.#e.forEach(u=>{u[0]===r[0]?s&&(s=!a.push(r)):a.push(u)}),s&&a.push(r),this.#e=a}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Ht,oa,ws,Rs,qr,aa=Ut(()=>{Ht=require("node:fs"),oa=require("node:worker_threads");Rn();$t();({stat:ws}=Ht.promises),Rs=globalThis.DOMException||(()=>{let o=new oa.MessageChannel().port1,r=new ArrayBuffer(0);try{o.postMessage(r,[r,r])}catch(a){return a.constructor}})(),qr=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,a){return new qr({path:this.#e,lastModified:this.lastModified,size:a-r,start:r})}async*stream(){let{mtimeMs:r}=await ws(this.#e);if(r>this.lastModified)throw new Rs("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Ht.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var sa={};Vo(sa,{toFormData:()=>Bs});function Ps(o){let r=o.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let a=r[2]||r[3]||"",s=a.slice(a.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(u,l)=>String.fromCharCode(l)),s}async function Bs(o,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let a=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!a)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new Cn(a[1]||a[2]),u,l,d,g,b,c,_=[],v=new St,S=P=>{d+=E.decode(P,{stream:!0})},y=P=>{_.push(P)},p=()=>{let P=new jt(_,c,{type:b});v.append(g,P)},C=()=>{v.append(g,d)},E=new TextDecoder("utf-8");E.decode(),s.onPartBegin=function(){s.onPartData=S,s.onPartEnd=C,u="",l="",d="",g="",b="",c=null,_.length=0},s.onHeaderField=function(P){u+=E.decode(P,{stream:!0})},s.onHeaderValue=function(P){l+=E.decode(P,{stream:!0})},s.onHeaderEnd=function(){if(l+=E.decode(),u=u.toLowerCase(),u==="content-disposition"){let P=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);P&&(g=P[2]||P[3]||""),c=Ps(l),c&&(s.onPartData=y,s.onPartEnd=p)}else u==="content-type"&&(b=l);l="",u=""};for await(let P of o)s.write(P);return s.end(),v}var Re,z,ia,$e,Lr,Ir,vs,Vt,Ts,Es,Cs,As,tt,Cn,ua=Ut(()=>{aa();Tn();Re=0,z={START_BOUNDARY:Re++,HEADER_FIELD_START:Re++,HEADER_FIELD:Re++,HEADER_VALUE_START:Re++,HEADER_VALUE:Re++,HEADER_VALUE_ALMOST_DONE:Re++,HEADERS_ALMOST_DONE:Re++,PART_DATA_START:Re++,PART_DATA:Re++,END:Re++},ia=1,$e={PART_BOUNDARY:ia,LAST_BOUNDARY:ia*=2},Lr=10,Ir=13,vs=32,Vt=45,Ts=58,Es=97,Cs=122,As=o=>o|32,tt=()=>{},Cn=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=tt,this.onHeaderField=tt,this.onHeadersEnd=tt,this.onHeaderValue=tt,this.onPartBegin=tt,this.onPartData=tt,this.onPartEnd=tt,this.boundaryChars={},r=`\r
--`+r;let a=new Uint8Array(r.length);for(let s=0;s<r.length;s++)a[s]=r.charCodeAt(s),this.boundaryChars[a[s]]=!0;this.boundary=a,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(r){let a=0,s=r.length,u=this.index,{lookbehind:l,boundary:d,boundaryChars:g,index:b,state:c,flags:_}=this,v=this.boundary.length,S=v-1,y=r.length,p,C,E=D=>{this[D+"Mark"]=a},P=D=>{delete this[D+"Mark"]},w=(D,$,q,J)=>{($===void 0||$!==q)&&this[D](J&&J.subarray($,q))},U=(D,$)=>{let q=D+"Mark";q in this&&($?(w(D,this[q],a,r),delete this[q]):(w(D,this[q],r.length,r),this[q]=0))};for(a=0;a<s;a++)switch(p=r[a],c){case z.START_BOUNDARY:if(b===d.length-2){if(p===Vt)_|=$e.LAST_BOUNDARY;else if(p!==Ir)return;b++;break}else if(b-1===d.length-2){if(_&$e.LAST_BOUNDARY&&p===Vt)c=z.END,_=0;else if(!(_&$e.LAST_BOUNDARY)&&p===Lr)b=0,w("onPartBegin"),c=z.HEADER_FIELD_START;else return;break}p!==d[b+2]&&(b=-2),p===d[b+2]&&b++;break;case z.HEADER_FIELD_START:c=z.HEADER_FIELD,E("onHeaderField"),b=0;case z.HEADER_FIELD:if(p===Ir){P("onHeaderField"),c=z.HEADERS_ALMOST_DONE;break}if(b++,p===Vt)break;if(p===Ts){if(b===1)return;U("onHeaderField",!0),c=z.HEADER_VALUE_START;break}if(C=As(p),C<Es||C>Cs)return;break;case z.HEADER_VALUE_START:if(p===vs)break;E("onHeaderValue"),c=z.HEADER_VALUE;case z.HEADER_VALUE:p===Ir&&(U("onHeaderValue",!0),w("onHeaderEnd"),c=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(p!==Lr)return;c=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(p!==Lr)return;w("onHeadersEnd"),c=z.PART_DATA_START;break;case z.PART_DATA_START:c=z.PART_DATA,E("onPartData");case z.PART_DATA:if(u=b,b===0){for(a+=S;a<y&&!(r[a]in g);)a+=v;a-=S,p=r[a]}if(b<d.length)d[b]===p?(b===0&&U("onPartData",!0),b++):b=0;else if(b===d.length)b++,p===Ir?_|=$e.PART_BOUNDARY:p===Vt?_|=$e.LAST_BOUNDARY:b=0;else if(b-1===d.length)if(_&$e.PART_BOUNDARY){if(b=0,p===Lr){_&=~$e.PART_BOUNDARY,w("onPartEnd"),w("onPartBegin"),c=z.HEADER_FIELD_START;break}}else _&$e.LAST_BOUNDARY&&p===Vt?(w("onPartEnd"),c=z.END,_=0):b=0;if(b>0)l[b-1]=p;else if(u>0){let D=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);w("onPartData",0,u,D),u=0,E("onPartData"),a--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=b,this.state=c,this.flags=_}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var iu={};Vo(iu,{default:()=>au});module.exports=hs(iu);var j=require("@raycast/api");var Qr=require("react");var Ra=Je(require("node:http"),1),va=Je(require("node:https"),1),rt=Je(require("node:zlib"),1),ue=Je(require("node:stream"),1);function ms(o){if(!/^data:/i.test(o))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');o=o.replace(/\r?\n/g,"");let r=o.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let a=o.substring(5,r).split(";"),s="",u=!1,l=a[0]||"text/plain",d=l;for(let _=1;_<a.length;_++)a[_]==="base64"?u=!0:(d+=`;${a[_]}`,a[_].indexOf("charset=")===0&&(s=a[_].substring(8)));!a[0]&&!s.length&&(d+=";charset=US-ASCII",s="US-ASCII");let g=u?"base64":"ascii",b=unescape(o.substring(r+1)),c=Buffer.from(b,g);return c.type=l,c.typeFull=d,c.charset=s,c}var Qo=ms;var pe=Je(require("node:stream"),1),wt=require("node:util");$t();Tn();var ke=class extends Error{constructor(r,a){super(r),Error.captureStackTrace(this,this.constructor),this.type=a}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var se=class extends ke{constructor(r,a,s){super(r,a),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var Fr=Symbol.toStringTag,En=o=>typeof o=="object"&&typeof o.append=="function"&&typeof o.delete=="function"&&typeof o.get=="function"&&typeof o.getAll=="function"&&typeof o.has=="function"&&typeof o.set=="function"&&typeof o.sort=="function"&&o[Fr]==="URLSearchParams",xt=o=>o&&typeof o=="object"&&typeof o.arrayBuffer=="function"&&typeof o.type=="string"&&typeof o.stream=="function"&&typeof o.constructor=="function"&&/^(Blob|File)$/.test(o[Fr]),na=o=>typeof o=="object"&&(o[Fr]==="AbortSignal"||o[Fr]==="EventTarget");var ne=Symbol("Body internals"),ve=class{constructor(r,{size:a=0}={}){let s=null;r===null?r=null:En(r)?r=Buffer.from(r.toString()):xt(r)||Buffer.isBuffer(r)||(wt.types.isAnyArrayBuffer(r)?r=Buffer.from(r):ArrayBuffer.isView(r)?r=Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof pe.default||(r instanceof St?(r=ra(r),s=r.type.split("=")[1]):r=Buffer.from(String(r))));let u=r;Buffer.isBuffer(r)?u=pe.default.Readable.from(r):xt(r)&&(u=pe.default.Readable.from(r.stream())),this[ne]={body:r,stream:u,boundary:s,disturbed:!1,error:null},this.size=a,r instanceof pe.default&&r.on("error",l=>{let d=l instanceof ke?l:new se(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[ne].error=d})}get body(){return this[ne].stream}get bodyUsed(){return this[ne].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:a,byteLength:s}=await zr(this);return r.slice(a,a+s)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let s=new St,u=new URLSearchParams(await this.text());for(let[l,d]of u)s.append(l,d);return s}let{toFormData:a}=await Promise.resolve().then(()=>(ua(),sa));return a(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[ne].body&&this[ne].body.type||"",a=await this.buffer();return new Xe([a],{type:r})}async json(){let r=await zr(this);return JSON.parse(r.toString())}async text(){return(await zr(this)).toString()}buffer(){return zr(this)}};ve.prototype.buffer=(0,wt.deprecate)(ve.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ve.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});async function zr(o){if(o[ne].disturbed)throw new TypeError(`body used already for: ${o.url}`);if(o[ne].disturbed=!0,o[ne].error)throw o[ne].error;let{body:r}=o;if(r===null||!(r instanceof pe.default))return Buffer.alloc(0);let a=[],s=0;try{for await(let u of r){if(o.size>0&&s+u.length>o.size){let l=new se(`content size at ${o.url} over limit: ${o.size}`,"max-size");throw r.destroy(l),l}s+=u.length,a.push(u)}}catch(u){throw u instanceof ke?u:new se(`Invalid response body while trying to fetch ${o.url}: ${u.message}`,"system",u)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return a.every(u=>typeof u=="string")?Buffer.from(a.join("")):Buffer.concat(a,s)}catch(u){throw new se(`Could not create Buffer from response body for ${o.url}: ${u.message}`,"system",u)}else throw new se(`Premature close of server response while trying to fetch ${o.url}`)}var Rt=(o,r)=>{let a,s,{body:u}=o[ne];if(o.bodyUsed)throw new Error("cannot clone body after it is used");return u instanceof pe.default&&typeof u.getBoundary!="function"&&(a=new pe.PassThrough({highWaterMark:r}),s=new pe.PassThrough({highWaterMark:r}),u.pipe(a),u.pipe(s),o[ne].stream=a,u=s),u},Os=(0,wt.deprecate)(o=>o.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Mr=(o,r)=>o===null?null:typeof o=="string"?"text/plain;charset=UTF-8":En(o)?"application/x-www-form-urlencoded;charset=UTF-8":xt(o)?o.type||null:Buffer.isBuffer(o)||wt.types.isAnyArrayBuffer(o)||ArrayBuffer.isView(o)?null:o instanceof St?`multipart/form-data; boundary=${r[ne].boundary}`:o&&typeof o.getBoundary=="function"?`multipart/form-data;boundary=${Os(o)}`:o instanceof pe.default?null:"text/plain;charset=UTF-8",la=o=>{let{body:r}=o[ne];return r===null?0:xt(r)?r.size:Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},fa=(o,{body:r})=>{r===null?o.end():r.pipe(o)};var An=require("node:util"),Yt=Je(require("node:http"),1),Ur=typeof Yt.default.validateHeaderName=="function"?Yt.default.validateHeaderName:o=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(o)){let r=new TypeError(`Header name must be a valid HTTP token [${o}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Pn=typeof Yt.default.validateHeaderValue=="function"?Yt.default.validateHeaderValue:(o,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let a=new TypeError(`Invalid character in header content ["${o}"]`);throw Object.defineProperty(a,"code",{value:"ERR_INVALID_CHAR"}),a}},oe=class extends URLSearchParams{constructor(r){let a=[];if(r instanceof oe){let s=r.raw();for(let[u,l]of Object.entries(s))a.push(...l.map(d=>[u,d]))}else if(r!=null)if(typeof r=="object"&&!An.types.isBoxedPrimitive(r)){let s=r[Symbol.iterator];if(s==null)a.push(...Object.entries(r));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");a=[...r].map(u=>{if(typeof u!="object"||An.types.isBoxedPrimitive(u))throw new TypeError("Each header pair must be an iterable object");return[...u]}).map(u=>{if(u.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...u]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return a=a.length>0?a.map(([s,u])=>(Ur(s),Pn(s,String(u)),[String(s).toLowerCase(),String(u)])):void 0,super(a),new Proxy(this,{get(s,u,l){switch(u){case"append":case"set":return(d,g)=>(Ur(d),Pn(d,String(g)),URLSearchParams.prototype[u].call(s,String(d).toLowerCase(),String(g)));case"delete":case"has":case"getAll":return d=>(Ur(d),URLSearchParams.prototype[u].call(s,String(d).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,u,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let a=this.getAll(r);if(a.length===0)return null;let s=a.join(", ");return/^content-encoding$/i.test(r)&&(s=s.toLowerCase()),s}forEach(r,a=void 0){for(let s of this.keys())Reflect.apply(r,a,[this.get(s),s,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,a)=>(r[a]=this.getAll(a),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,a)=>{let s=this.getAll(a);return a==="host"?r[a]=s[0]:r[a]=s.length>1?s:s[0],r},{})}};Object.defineProperties(oe.prototype,["get","entries","forEach","values"].reduce((o,r)=>(o[r]={enumerable:!0},o),{}));function da(o=[]){return new oe(o.reduce((r,a,s,u)=>(s%2===0&&r.push(u.slice(s,s+2)),r),[]).filter(([r,a])=>{try{return Ur(r),Pn(r,String(a)),!0}catch{return!1}}))}var Ws=new Set([301,302,303,307,308]),$r=o=>Ws.has(o);var ye=Symbol("Response internals"),K=class extends ve{constructor(r=null,a={}){super(r,a);let s=a.status!=null?a.status:200,u=new oe(a.headers);if(r!==null&&!u.has("Content-Type")){let l=Mr(r,this);l&&u.append("Content-Type",l)}this[ye]={type:"default",url:a.url,status:s,statusText:a.statusText||"",headers:u,counter:a.counter,highWaterMark:a.highWaterMark}}get type(){return this[ye].type}get url(){return this[ye].url||""}get status(){return this[ye].status}get ok(){return this[ye].status>=200&&this[ye].status<300}get redirected(){return this[ye].counter>0}get statusText(){return this[ye].statusText}get headers(){return this[ye].headers}get highWaterMark(){return this[ye].highWaterMark}clone(){return new K(Rt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,a=302){if(!$r(a))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new K(null,{headers:{location:new URL(r).toString()},status:a})}static error(){let r=new K(null,{status:0,statusText:""});return r[ye].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(K.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Sa=require("node:url");var ca=o=>{if(o.search)return o.search;let r=o.href.length-1,a=o.hash||(o.href[r]==="#"?"#":"");return o.href[r-a.length]==="?"?"?":""};var ma=require("net");function ha(o,r=!1){return o==null||(o=new URL(o),/^(about|blob|data):$/.test(o.protocol))?"no-referrer":(o.username="",o.password="",o.hash="",r&&(o.pathname="",o.search=""),o)}var ba=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),pa="strict-origin-when-cross-origin";function ya(o){if(!ba.has(o))throw new TypeError(`Invalid referrerPolicy: ${o}`);return o}function ks(o){if(/^(http|ws)s:$/.test(o.protocol))return!0;let r=o.host.replace(/(^\[)|(]$)/g,""),a=(0,ma.isIP)(r);return a===4&&/^127\./.test(r)||a===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(o.host)?!1:o.protocol==="file:"}function vt(o){return/^about:(blank|srcdoc)$/.test(o)||o.protocol==="data:"||/^(blob|filesystem):$/.test(o.protocol)?!0:ks(o)}function ga(o,{referrerURLCallback:r,referrerOriginCallback:a}={}){if(o.referrer==="no-referrer"||o.referrerPolicy==="")return null;let s=o.referrerPolicy;if(o.referrer==="about:client")return"no-referrer";let u=o.referrer,l=ha(u),d=ha(u,!0);l.toString().length>4096&&(l=d),r&&(l=r(l)),a&&(d=a(d));let g=new URL(o.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return d;case"unsafe-url":return l;case"strict-origin":return vt(l)&&!vt(g)?"no-referrer":d.toString();case"strict-origin-when-cross-origin":return l.origin===g.origin?l:vt(l)&&!vt(g)?"no-referrer":d;case"same-origin":return l.origin===g.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===g.origin?l:d;case"no-referrer-when-downgrade":return vt(l)&&!vt(g)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function _a(o){let r=(o.get("referrer-policy")||"").split(/[,\s]+/),a="";for(let s of r)s&&ba.has(s)&&(a=s);return a}var V=Symbol("Request internals"),jr=o=>typeof o=="object"&&typeof o[V]=="object",De=class extends ve{constructor(r,a={}){let s;if(jr(r)?s=new URL(r.url):(s=new URL(r),r={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentails.`);let u=a.method||r.method||"GET";if(u=u.toUpperCase(),(a.body!=null||jr(r))&&r.body!==null&&(u==="GET"||u==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=a.body?a.body:jr(r)&&r.body!==null?Rt(r):null;super(l,{size:a.size||r.size||0});let d=new oe(a.headers||r.headers||{});if(l!==null&&!d.has("Content-Type")){let c=Mr(l,this);c&&d.set("Content-Type",c)}let g=jr(r)?r.signal:null;if("signal"in a&&(g=a.signal),g!=null&&!na(g))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let b=a.referrer==null?r.referrer:a.referrer;if(b==="")b="no-referrer";else if(b){let c=new URL(b);b=/^about:(\/\/)?client$/.test(c)?"client":c}else b=void 0;this[V]={method:u,redirect:a.redirect||r.redirect||"follow",headers:d,parsedURL:s,signal:g,referrer:b},this.follow=a.follow===void 0?r.follow===void 0?20:r.follow:a.follow,this.compress=a.compress===void 0?r.compress===void 0?!0:r.compress:a.compress,this.counter=a.counter||r.counter||0,this.agent=a.agent||r.agent,this.highWaterMark=a.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=a.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=a.referrerPolicy||r.referrerPolicy||""}get method(){return this[V].method}get url(){return(0,Sa.format)(this[V].parsedURL)}get headers(){return this[V].headers}get redirect(){return this[V].redirect}get signal(){return this[V].signal}get referrer(){if(this[V].referrer==="no-referrer")return"";if(this[V].referrer==="client")return"about:client";if(this[V].referrer)return this[V].referrer.toString()}get referrerPolicy(){return this[V].referrerPolicy}set referrerPolicy(r){this[V].referrerPolicy=ya(r)}clone(){return new De(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(De.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var wa=o=>{let{parsedURL:r}=o[V],a=new oe(o[V].headers);a.has("Accept")||a.set("Accept","*/*");let s=null;if(o.body===null&&/^(post|put)$/i.test(o.method)&&(s="0"),o.body!==null){let g=la(o);typeof g=="number"&&!Number.isNaN(g)&&(s=String(g))}s&&a.set("Content-Length",s),o.referrerPolicy===""&&(o.referrerPolicy=pa),o.referrer&&o.referrer!=="no-referrer"?o[V].referrer=ga(o):o[V].referrer="no-referrer",o[V].referrer instanceof URL&&a.set("Referer",o.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),o.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip,deflate,br");let{agent:u}=o;typeof u=="function"&&(u=u(r)),!a.has("Connection")&&!u&&a.set("Connection","close");let l=ca(r),d={path:r.pathname+l,method:o.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:o.insecureHTTPParser,agent:u};return{parsedURL:r,options:d}};var Nr=class extends ke{constructor(r,a="aborted"){super(r,a)}};var Ds=new Set(["data:","http:","https:"]);async function xr(o,r){return new Promise((a,s)=>{let u=new De(o,r),{parsedURL:l,options:d}=wa(u);if(!Ds.has(l.protocol))throw new TypeError(`node-fetch cannot load ${o}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let p=Qo(u.url),C=new K(p,{headers:{"Content-Type":p.typeFull}});a(C);return}let g=(l.protocol==="https:"?va.default:Ra.default).request,{signal:b}=u,c=null,_=()=>{let p=new Nr("The operation was aborted.");s(p),u.body&&u.body instanceof ue.default.Readable&&u.body.destroy(p),!(!c||!c.body)&&c.body.emit("error",p)};if(b&&b.aborted){_();return}let v=()=>{_(),y()},S=g(l,d);b&&b.addEventListener("abort",v);let y=()=>{S.abort(),b&&b.removeEventListener("abort",v)};S.on("error",p=>{s(new se(`request to ${u.url} failed, reason: ${p.message}`,"system",p)),y()}),Fs(S,p=>{c.body.destroy(p)}),process.version<"v14"&&S.on("socket",p=>{let C;p.prependListener("end",()=>{C=p._eventsCount}),p.prependListener("close",E=>{if(c&&C<p._eventsCount&&!E){let P=new Error("Premature close");P.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",P)}})}),S.on("response",p=>{S.setTimeout(0);let C=da(p.rawHeaders);if($r(p.statusCode)){let D=C.get("Location"),$=D===null?null:new URL(D,u.url);switch(u.redirect){case"error":s(new se(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),y();return;case"manual":$!==null&&C.set("Location",$);break;case"follow":{if($===null)break;if(u.counter>=u.follow){s(new se(`maximum redirect reached at: ${u.url}`,"max-redirect")),y();return}let q={headers:new oe(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:Rt(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(p.statusCode!==303&&u.body&&r.body instanceof ue.default.Readable){s(new se("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(p.statusCode===303||(p.statusCode===301||p.statusCode===302)&&u.method==="POST")&&(q.method="GET",q.body=void 0,q.headers.delete("content-length"));let J=_a(C);J&&(q.referrerPolicy=J),a(xr(new De($,q))),y();return}default:return s(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}b&&p.once("end",()=>{b.removeEventListener("abort",v)});let E=(0,ue.pipeline)(p,new ue.PassThrough,s);process.version<"v12.10"&&p.on("aborted",v);let P={url:u.url,status:p.statusCode,statusText:p.statusMessage,headers:C,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},w=C.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||w===null||p.statusCode===204||p.statusCode===304){c=new K(E,P),a(c);return}let U={flush:rt.default.Z_SYNC_FLUSH,finishFlush:rt.default.Z_SYNC_FLUSH};if(w==="gzip"||w==="x-gzip"){E=(0,ue.pipeline)(E,rt.default.createGunzip(U),s),c=new K(E,P),a(c);return}if(w==="deflate"||w==="x-deflate"){(0,ue.pipeline)(p,new ue.PassThrough,s).once("data",$=>{E=($[0]&15)===8?(0,ue.pipeline)(E,rt.default.createInflate(),s):(0,ue.pipeline)(E,rt.default.createInflateRaw(),s),c=new K(E,P),a(c)});return}if(w==="br"){E=(0,ue.pipeline)(E,rt.default.createBrotliDecompress(),s),c=new K(E,P),a(c);return}c=new K(E,P),a(c)}),fa(S,u)})}function Fs(o,r){let a=Buffer.from(`0\r
\r
`),s=!1,u=!1,l;o.on("response",d=>{let{headers:g}=d;s=g["transfer-encoding"]==="chunked"&&!g["content-length"]}),o.on("socket",d=>{let g=()=>{if(s&&!u){let b=new Error("Premature close");b.code="ERR_STREAM_PREMATURE_CLOSE",r(b)}};d.prependListener("close",g),o.on("abort",()=>{d.removeListener("close",g)}),d.on("data",b=>{u=Buffer.compare(b.slice(-5),a)===0,!u&&l&&(u=Buffer.compare(l.slice(-3),a.slice(0,3))===0&&Buffer.compare(b.slice(-2),a.slice(3))===0),l=b})})}var F=require("react");function Aa(o,r,a,s){function u(l){return l instanceof a?l:new a(function(d){d(l)})}return new(a||(a=Promise))(function(l,d){function g(_){try{c(s.next(_))}catch(v){d(v)}}function b(_){try{c(s.throw(_))}catch(v){d(v)}}function c(_){_.done?l(_.value):u(_.value).then(g,b)}c((s=s.apply(o,r||[])).next())})}function Pa(o,r){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,u,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(c){return function(_){return b([c,_])}}function b(c){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,u&&(l=c[0]&2?u.return:c[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,c[1])).done)return l;switch(u=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,u=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){a.label=c[1];break}if(c[0]===6&&a.label<l[1]){a.label=l[1],l=c;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(c);break}l[2]&&a.ops.pop(),a.trys.pop();continue}c=r.call(o,a)}catch(_){c=[6,_],u=0}finally{s=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Te=function(){},Z=Te(),Qt=Object,le=function(o){return o===Z},Kt=function(o){return typeof o=="function"},ot=function(o,r){return Qt.assign({},o,r)},Ln="undefined",In=function(){return typeof window!=Ln},qs=function(){return typeof document!=Ln},Ls=function(){return In()&&typeof window.requestAnimationFrame!=Ln},Hr=new WeakMap,Is=0,Zt=function(o){var r=typeof o,a=o&&o.constructor,s=a==Date,u,l;if(Qt(o)===o&&!s&&a!=RegExp){if(u=Hr.get(o),u)return u;if(u=++Is+"~",Hr.set(o,u),a==Array){for(u="@",l=0;l<o.length;l++)u+=Zt(o[l])+",";Hr.set(o,u)}if(a==Qt){u="#";for(var d=Qt.keys(o).sort();!le(l=d.pop());)le(o[l])||(u+=l+":"+Zt(o[l])+",");Hr.set(o,u)}}else u=s?o.toJSON():r=="symbol"?o.toString():r=="string"?JSON.stringify(o):""+o;return u},Wn=!0,zs=function(){return Wn},Ba=In(),zn=qs(),kn=Ba&&window.addEventListener?window.addEventListener.bind(window):Te,Ms=zn?document.addEventListener.bind(document):Te,Dn=Ba&&window.removeEventListener?window.removeEventListener.bind(window):Te,Us=zn?document.removeEventListener.bind(document):Te,$s=function(){var o=zn&&document.visibilityState;return le(o)||o!=="hidden"},js=function(o){return Ms("visibilitychange",o),kn("focus",o),function(){Us("visibilitychange",o),Dn("focus",o)}},Ns=function(o){var r=function(){Wn=!0,o()},a=function(){Wn=!1};return kn("online",r),kn("offline",a),function(){Dn("online",r),Dn("offline",a)}},xs={isOnline:zs,isVisible:$s},Hs={initFocus:js,initReconnect:Ns},Yr=!In()||"Deno"in window,Vs=function(o){return Ls()?window.requestAnimationFrame(o):setTimeout(o,1)},Gt=Yr?F.useEffect:F.useLayoutEffect,Bn=typeof navigator<"u"&&navigator.connection,Ta=!Yr&&Bn&&(["slow-2g","2g"].includes(Bn.effectiveType)||Bn.saveData),Oa=function(o){if(Kt(o))try{o=o()}catch{o=""}var r=[].concat(o);o=typeof o=="string"?o:(Array.isArray(o)?o.length:o)?Zt(o):"";var a=o?"$err$"+o:"",s=o?"$req$"+o:"";return[o,r,a,s]},nt=new WeakMap,Wa=0,ka=1,Da=2,Vr=function(o,r,a,s,u,l,d){d===void 0&&(d=!0);var g=nt.get(o),b=g[0],c=g[1],_=g[4],v=b[r],S=c[r]||[];if(d&&S)for(var y=0;y<S.length;++y)S[y](a,s,u);return l&&(delete _[r],v&&v[0])?v[0](Da).then(function(){return o.get(r)}):o.get(r)},Ys=0,Fn=function(){return++Ys},Fa=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return Aa(void 0,void 0,void 0,function(){var a,s,u,l,d,g,b,c,_,v,S,y,p,C,E,P,w;return Pa(this,function(U){switch(U.label){case 0:if(a=o[0],s=o[1],u=o[2],l=o[3],d=typeof l=="boolean"?{revalidate:l}:l||{},g=d.revalidate!==!1,b=d.populateCache!==!1,c=Oa(s),_=c[0],v=c[2],!_)return[2];if(S=nt.get(a),y=S[2],p=S[3],o.length<3)return[2,Vr(a,_,a.get(_),a.get(v),Z,g,b)];if(C=u,P=y[_]=Fn(),p[_]=0,Kt(C))try{C=C(a.get(_))}catch(D){E=D}return C&&Kt(C.then)?[4,C.catch(function(D){E=D})]:[3,2];case 1:if(C=U.sent(),P!==y[_]){if(E)throw E;return[2,C]}U.label=2;case 2:return b&&(E||a.set(_,C),a.set(v,E)),p[_]=Fn(),[4,Vr(a,_,C,E,Z,g,b)];case 3:if(w=U.sent(),E)throw E;return[2,b?w:C]}})})},Ea=function(o,r){for(var a in o)o[a][0]&&o[a][0](r)},qa=function(o,r){if(!nt.has(o)){var a=ot(Hs,r),s={},u=Fa.bind(Z,o),l=Te;if(nt.set(o,[s,{},{},{},{},u]),!Yr){var d=a.initFocus(setTimeout.bind(Z,Ea.bind(Z,s,Wa))),g=a.initReconnect(setTimeout.bind(Z,Ea.bind(Z,s,ka)));l=function(){d&&d(),g&&g(),nt.delete(o)}}return[o,u,l]}return[o,nt.get(o)[5]]},Qs=function(o,r,a,s,u){var l=a.errorRetryCount,d=u.retryCount,g=~~((Math.random()+.5)*(1<<(d<8?d:8)))*a.errorRetryInterval;!le(l)&&d>l||setTimeout(s,g,u)},La=qa(new Map),Ia=La[0],Gs=La[1],za=ot({onLoadingSlow:Te,onSuccess:Te,onError:Te,onErrorRetry:Qs,onDiscarded:Te,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ta?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ta?5e3:3e3,compare:function(o,r){return Zt(o)==Zt(r)},isPaused:function(){return!1},cache:Ia,mutate:Gs,fallback:{}},xs),Ma=function(o,r){var a=ot(o,r);if(r){var s=o.use,u=o.fallback,l=r.use,d=r.fallback;s&&l&&(a.use=s.concat(l)),u&&d&&(a.fallback=ot(u,d))}return a},qn=(0,F.createContext)({}),Ks=function(o){var r=o.value,a=Ma((0,F.useContext)(qn),r),s=r&&r.provider,u=(0,F.useState)(function(){return s?qa(s(a.cache||Ia),r):Z})[0];return u&&(a.cache=u[0],a.mutate=u[1]),Gt(function(){return u?u[2]:Z},[]),(0,F.createElement)(qn.Provider,ot(o,{value:a}))},Zs=function(o,r){var a=(0,F.useState)({})[1],s=(0,F.useRef)(o),u=(0,F.useRef)({data:!1,error:!1,isValidating:!1}),l=(0,F.useCallback)(function(d){var g=!1,b=s.current;for(var c in d){var _=c;b[_]!==d[_]&&(b[_]=d[_],u.current[_]&&(g=!0))}g&&!r.current&&a({})},[]);return Gt(function(){s.current=o}),[s,u.current,l]},Js=function(o){return Kt(o[1])?[o[0],o[1],o[2]||{}]:[o[0],null,(o[1]===null?o[2]:o[1])||{}]},Xs=function(){return ot(za,(0,F.useContext)(qn))},eu=function(o){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=Xs(),u=Js(r),l=u[0],d=u[1],g=u[2],b=Ma(s,g),c=o,_=b.use;if(_)for(var v=_.length;v-- >0;)c=_[v](c);return c(l,d||b.fetcher,b)}},Ca=function(o,r,a){var s=r[o]||(r[o]=[]);return s.push(a),function(){var u=s.indexOf(a);u>=0&&(s[u]=s[s.length-1],s.pop())}},On={dedupe:!0},tu=function(o,r,a){var s=a.cache,u=a.compare,l=a.fallbackData,d=a.suspense,g=a.revalidateOnMount,b=a.refreshInterval,c=a.refreshWhenHidden,_=a.refreshWhenOffline,v=nt.get(s),S=v[0],y=v[1],p=v[2],C=v[3],E=v[4],P=Oa(o),w=P[0],U=P[1],D=P[2],$=P[3],q=(0,F.useRef)(!1),J=(0,F.useRef)(!1),Y=(0,F.useRef)(w),Tt=(0,F.useRef)(r),at=(0,F.useRef)(a),L=function(){return at.current},ge=function(){return L().isVisible()&&L().isOnline()},it=s.get(w),Jt=le(l)?a.fallback[w]:l,ce=le(it)?Jt:it,Ce=s.get(D),Xt=function(){return le(g)?L().isPaused()?!1:d?!le(ce):le(ce)||a.revalidateIfStale:g},er=function(){return!w||!r?!1:s.get($)?!0:!q.current&&Xt()},st=er(),ut=Zs({data:ce,error:Ce,isValidating:st},J),_e=ut[0],je=ut[1],Ne=ut[2],Ae=(0,F.useCallback)(function(x){return Aa(void 0,void 0,void 0,function(){var M,X,ee,Q,Pe,te,H,Se,ae,xe,fe,lt;return Pa(this,function(Be){switch(Be.label){case 0:if(M=Tt.current,!w||!M||J.current||L().isPaused())return[2,!1];Q=!0,Pe=x||{},te=!E[w]||!Pe.dedupe,H=function(){return!J.current&&w===Y.current&&q.current},Se=function(){var He=E[w];He&&He[1]===ee&&delete E[w]},ae={isValidating:!1},xe=function(){s.set($,!1),H()&&Ne(ae)},s.set($,!0),Ne({isValidating:!0}),Be.label=1;case 1:return Be.trys.push([1,3,,4]),te&&(Vr(s,w,_e.current.data,_e.current.error,!0),a.loadingTimeout&&!s.get(w)&&setTimeout(function(){Q&&H()&&L().onLoadingSlow(w,a)},a.loadingTimeout),E[w]=[M.apply(void 0,U),Fn()]),lt=E[w],X=lt[0],ee=lt[1],[4,X];case 2:return X=Be.sent(),te&&setTimeout(Se,a.dedupingInterval),!E[w]||E[w][1]!==ee?(te&&H()&&L().onDiscarded(w),[2,!1]):(s.set(D,Z),ae.error=Z,!le(p[w])&&(ee<=p[w]||ee<=C[w]||C[w]===0)?(xe(),te&&H()&&L().onDiscarded(w),[2,!1]):(u(_e.current.data,X)?ae.data=_e.current.data:ae.data=X,u(s.get(w),X)||s.set(w,X),te&&H()&&L().onSuccess(X,w,a),[3,4]));case 3:return fe=Be.sent(),Se(),L().isPaused()||(s.set(D,fe),ae.error=fe,te&&H()&&(L().onError(fe,w,a),a.shouldRetryOnError&&ge()&&L().onErrorRetry(fe,w,a,Ae,{retryCount:(Pe.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Q=!1,xe(),H()&&te&&Vr(s,w,ae.data,ae.error,!1),[2,!0]}})})},[w]),Gr=(0,F.useCallback)(Fa.bind(Z,s,function(){return Y.current}),[]);if(Gt(function(){Tt.current=r,at.current=a}),Gt(function(){if(!!w){var x=q.current,M=Ae.bind(Z,On),X=function(H,Se,ae){Ne(ot({error:Se,isValidating:ae},u(_e.current.data,H)?Z:{data:H}))},ee=0,Q=function(H){if(H==Wa){var Se=Date.now();L().revalidateOnFocus&&Se>ee&&ge()&&(ee=Se+L().focusThrottleInterval,M())}else if(H==ka)L().revalidateOnReconnect&&ge()&&M();else if(H==Da)return Ae()},Pe=Ca(w,y,X),te=Ca(w,S,Q);return J.current=!1,Y.current=w,q.current=!0,x&&Ne({data:ce,error:Ce,isValidating:st}),Xt()&&(le(ce)||Yr?M():Vs(M)),function(){J.current=!0,Pe(),te()}}},[w,Ae]),Gt(function(){var x;function M(){var ee=Kt(b)?b(ce):b;ee&&x!==-1&&(x=setTimeout(X,ee))}function X(){!_e.current.error&&(c||L().isVisible())&&(_||L().isOnline())?Ae(On).then(M):M()}return M(),function(){x&&(clearTimeout(x),x=-1)}},[b,c,_,Ae]),(0,F.useDebugValue)(ce),d&&le(ce)&&w)throw le(Ce)?Ae(On):Ce;return{mutate:Gr,get data(){return je.data=!0,ce},get error(){return je.error=!0,Ce},get isValidating(){return je.isValidating=!0,st}}},ul=Qt.defineProperty(Ks,"default",{value:za});var Ua=eu(tu);var ru=o=>{switch(o){case 6:return"User not found.";case 10:return"Invalid API key.";case 29:return"Rate limit exceeded. Please wait a while.";default:return"Unknown error."}},$a=ru;var nu=o=>{try{let[r,a]=(0,Qr.useState)(!0),[s,u]=(0,Qr.useState)(null),[l,d]=(0,Qr.useState)([]),g=b=>xr(b).then(c=>c.json());return Ua(`https://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&user=${o.username}&api_key=${o.apikey}&format=json&period=${o.period}&limit=${o.limit||24}`,g,{onSuccess:b=>{if(b.error){let c=$a(b.error);u(new Error(c)),a(!1)}else d(b.topalbums.album),a(!1)},onError:b=>{u(b),a(!1)}}),{loading:r,error:s?.message||null,albums:l}}catch(r){return{loading:!1,error:r?.mesage||null,albums:[]}}},ja=nu;var Ee=require("react/jsx-runtime"),ou=()=>{let{username:o,apikey:r,period:a,limit:s}=(0,j.getPreferenceValues)(),{loading:u,error:l,albums:d}=ja({username:o,apikey:r,period:a,limit:s});return l!==null&&(0,j.showToast)(j.ToastStyle.Failure,"Something went wrong.",String(l)),(0,Ee.jsx)(j.List,{isLoading:u,searchBarPlaceholder:"Search songs...",children:(0,Ee.jsx)(j.List.Section,{title:"Results",children:d.map((g,b)=>{let c=g,_=c.image?.find(y=>y.size==="large")?.["#text"]||"../assets/default-album.jpeg",{url:v,name:S}=c.artist;return(0,Ee.jsx)(j.List.Item,{icon:_,title:c.name,subtitle:S?`by ${S}`:void 0,accessoryTitle:c.playcount?`${c.playcount} plays`:void 0,accessoryIcon:c.playcount?j.Icon.Star:void 0,actions:(0,Ee.jsxs)(j.ActionPanel,{children:[(0,Ee.jsx)(j.OpenInBrowserAction,{url:c.url,title:"Open on Last.fm"}),v&&(0,Ee.jsx)(j.OpenInBrowserAction,{url:v,title:"Open Artist Page on Last.fm"}),(0,Ee.jsx)(j.CopyToClipboardAction,{title:"Copy URL to Clipboard",content:c.url}),(0,Ee.jsx)(j.CopyToClipboardAction,{title:"Copy Album Name to Clipboard",content:c.name}),S&&(0,Ee.jsx)(j.CopyToClipboardAction,{title:"Copy Artist Name to Clipboard",content:S})]})},`${c.name}-${b}`)})})})},au=ou;0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
