"use strict";var us=Object.create;var Wr=Object.defineProperty;var ls=Object.getOwnPropertyDescriptor;var fs=Object.getOwnPropertyNames;var cs=Object.getPrototypeOf,ds=Object.prototype.hasOwnProperty;var $t=(o,r)=>()=>(o&&(r=o(o=0)),r);var Ho=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports),Vo=(o,r)=>{for(var a in r)Wr(o,a,{get:r[a],enumerable:!0})},Yo=(o,r,a,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of fs(r))!ds.call(o,u)&&u!==a&&Wr(o,u,{get:()=>r[u],enumerable:!(s=ls(r,u))||s.enumerable});return o};var Je=(o,r,a)=>(a=o!=null?us(cs(o)):{},Yo(r||!o||!o.__esModule?Wr(a,"default",{value:o,enumerable:!0}):a,o)),hs=o=>Yo(Wr({},"__esModule",{value:!0}),o);var Ko=Ho((Dr,Go)=>{(function(o,r){typeof Dr=="object"&&typeof Go<"u"?r(Dr):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o.WebStreamsPolyfill={}))})(Dr,function(o){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function a(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let u=s();function l(e){return typeof e=="object"&&e!==null||typeof e=="function"}let c=a,_=Promise,b=Promise.prototype.then,h=Promise.resolve.bind(_),p=Promise.reject.bind(_);function S(e){return new _(e)}function w(e){return h(e)}function g(e){return p(e)}function y(e,t,n){return b.call(e,t,n)}function C(e,t,n){y(y(e,t,n),void 0,c)}function E(e,t){C(e,t)}function P(e,t){C(e,void 0,t)}function R(e,t,n){return y(e,t,n)}function $(e){y(e,void 0,c)}let D=(()=>{let e=u&&u.queueMicrotask;if(typeof e=="function")return e;let t=w(void 0);return n=>y(t,n)})();function U(e,t,n){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function q(e,t,n){try{return w(U(e,t,n))}catch(i){return g(i)}}let J=16384;class Y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let n=this._back,i=n;n._elements.length===J-1&&(i={_elements:[],_next:void 0}),n._elements.push(t),i!==n&&(this._back=i,n._next=i),++this._size}shift(){let t=this._front,n=t,i=this._cursor,f=i+1,d=t._elements,m=d[i];return f===J&&(n=t._next,f=0),--this._size,this._cursor=f,t!==n&&(this._front=n),d[i]=void 0,m}forEach(t){let n=this._cursor,i=this._front,f=i._elements;for(;(n!==f.length||i._next!==void 0)&&!(n===f.length&&(i=i._next,f=i._elements,n=0,f.length===0));)t(f[n]),++n}peek(){let t=this._front,n=this._cursor;return t._elements[n]}}function vt(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?it(e):t._state==="closed"?de(e):Jt(e,t._storedError)}function at(e,t){let n=e._ownerReadableStream;return me(n,t)}function L(e){e._ownerReadableStream._state==="readable"?Ee(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Xt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function it(e){e._closedPromise=S((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n})}function Jt(e,t){it(e),Ee(e,t)}function de(e){it(e),er(e)}function Ee(e,t){e._closedPromise_reject!==void 0&&($(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Xt(e,t){Jt(e,t)}function er(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let st=r("[[AbortSteps]]"),ut=r("[[ErrorSteps]]"),_e=r("[[CancelSteps]]"),je=r("[[PullSteps]]"),Ne=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Ce=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Gr(e){return typeof e=="object"||typeof e=="function"}function N(e,t){if(e!==void 0&&!Gr(e))throw new TypeError(`${t} is not an object.`)}function M(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function X(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ee(e,t){if(!X(e))throw new TypeError(`${t} is not an object.`)}function Q(e,t,n){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${n}'.`)}function Ae(e,t,n){if(e===void 0)throw new TypeError(`${t} is required in '${n}'.`)}function te(e){return Number(e)}function x(e){return e===0?0:e}function Se(e){return x(Ce(e))}function ae(e,t){let i=Number.MAX_SAFE_INTEGER,f=Number(e);if(f=x(f),!Ne(f))throw new TypeError(`${t} is not a finite number`);if(f=Se(f),f<0||f>i)throw new TypeError(`${t} is outside the accepted range of ${0} to ${i}, inclusive`);return!Ne(f)||f===0?0:f}function xe(e,t){if(!Ie(e))throw new TypeError(`${t} is not a ReadableStream.`)}function fe(e){return new Et(e)}function lt(e,t){e._reader._readRequests.push(t)}function Pe(e,t,n){let f=e._reader._readRequests.shift();n?f._closeSteps():f._chunkSteps(t)}function He(e){return e._reader._readRequests.length}function Mn(e){let t=e._reader;return!(t===void 0||!De(t))}class Et{constructor(t){if(Q(t,1,"ReadableStreamDefaultReader"),xe(t,"First parameter"),ze(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");vt(this,t),this._readRequests=new Y}get closed(){return De(this)?this._closedPromise:g(tr("closed"))}cancel(t=void 0){return De(this)?this._ownerReadableStream===void 0?g(ge("cancel")):at(this,t):g(tr("cancel"))}read(){if(!De(this))return g(tr("read"));if(this._ownerReadableStream===void 0)return g(ge("read from"));let t,n,i=S((d,m)=>{t=d,n=m});return Ct(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>n(d)}),i}releaseLock(){if(!De(this))throw tr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)}}}Object.defineProperties(Et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function De(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Et}function Ct(e,t){let n=e._ownerReadableStream;n._disturbed=!0,n._state==="closed"?t._closeSteps():n._state==="errored"?t._errorSteps(n._storedError):n._readableStreamController[je](t)}function tr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let $n=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Un{constructor(t,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=n}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?R(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let n=()=>this._returnSteps(t);return this._ongoingPromise?R(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return g(ge("iterate"));let n,i,f=S((m,T)=>{n=m,i=T});return Ct(t,{_chunkSteps:m=>{this._ongoingPromise=void 0,D(()=>n({value:m,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,L(t),n({value:void 0,done:!0})},_errorSteps:m=>{this._ongoingPromise=void 0,this._isFinished=!0,L(t),i(m)}}),f}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let n=this._reader;if(n._ownerReadableStream===void 0)return g(ge("finish iterating"));if(!this._preventCancel){let i=at(n,t);return L(n),R(i,()=>({value:t,done:!0}))}return L(n),w({value:t,done:!0})}}let jn={next(){return Nn(this)?this._asyncIteratorImpl.next():g(xn("next"))},return(e){return Nn(this)?this._asyncIteratorImpl.return(e):g(xn("return"))}};$n!==void 0&&Object.setPrototypeOf(jn,$n);function Na(e,t){let n=fe(e),i=new Un(n,t),f=Object.create(jn);return f._asyncIteratorImpl=i,f}function Nn(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Un}catch{return!1}}function xn(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Hn=Number.isNaN||function(e){return e!==e};function At(e){return e.slice()}function Vn(e,t,n,i,f){new Uint8Array(e).set(new Uint8Array(n,i,f),t)}function iu(e){return e}function rr(e){return!1}function Yn(e,t,n){if(e.slice)return e.slice(t,n);let i=n-t,f=new ArrayBuffer(i);return Vn(f,0,e,t,i),f}function xa(e){return!(typeof e!="number"||Hn(e)||e<0)}function Qn(e){let t=Yn(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Kr(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Zr(e,t,n){if(!xa(n)||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function Ha(e){return e._queue.peek().value}function Fe(e){e._queue=new Y,e._queueTotalSize=0}class Pt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Jr(this))throw rn("view");return this._view}respond(t){if(!Jr(this))throw rn("respond");if(Q(t,1,"respond"),t=ae(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");rr(this._view.buffer),sr(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Jr(this))throw rn("respondWithNewView");if(Q(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");rr(t.buffer),ur(this._associatedReadableByteStreamController,t)}}Object.defineProperties(Pt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ft{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ve(this))throw kt("byobRequest");return tn(this)}get desiredSize(){if(!Ve(this))throw kt("desiredSize");return ro(this)}close(){if(!Ve(this))throw kt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Bt(this)}enqueue(t){if(!Ve(this))throw kt("enqueue");if(Q(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);ir(this,t)}error(t=void 0){if(!Ve(this))throw kt("error");he(this,t)}[_e](t){Gn(this),Fe(this);let n=this._cancelAlgorithm(t);return ar(this),n}[je](t){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0){let f=this._queue.shift();this._queueTotalSize-=f.byteLength,Xn(this);let d=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);t._chunkSteps(d);return}let i=this._autoAllocateChunkSize;if(i!==void 0){let f;try{f=new ArrayBuffer(i)}catch(m){t._errorSteps(m);return}let d={buffer:f,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}lt(n,t),Ye(this)}}Object.defineProperties(ft.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ft.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ve(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof ft}function Jr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Pt}function Ye(e){if(!Ga(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let n=e._pullAlgorithm();C(n,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ye(e))},i=>{he(e,i)})}function Gn(e){en(e),e._pendingPullIntos=new Y}function Xr(e,t){let n=!1;e._state==="closed"&&(n=!0);let i=Kn(t);t.readerType==="default"?Pe(e,i,n):Ja(e,i,n)}function Kn(e){let t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function nr(e,t,n,i){e._queue.push({buffer:t,byteOffset:n,byteLength:i}),e._queueTotalSize+=i}function Zn(e,t){let n=t.elementSize,i=t.bytesFilled-t.bytesFilled%n,f=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+f,m=d-d%n,T=f,A=!1;m>i&&(T=m-t.bytesFilled,A=!0);let k=e._queue;for(;T>0;){let O=k.peek(),W=Math.min(T,O.byteLength),j=t.byteOffset+t.bytesFilled;Vn(t.buffer,j,O.buffer,O.byteOffset,W),O.byteLength===W?k.shift():(O.byteOffset+=W,O.byteLength-=W),e._queueTotalSize-=W,Jn(e,W,t),T-=W}return A}function Jn(e,t,n){n.bytesFilled+=t}function Xn(e){e._queueTotalSize===0&&e._closeRequested?(ar(e),zt(e._controlledReadableByteStream)):Ye(e)}function en(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Zn(e,t)&&(or(e),Xr(e._controlledReadableByteStream,t))}}function Va(e,t,n){let i=e._controlledReadableByteStream,f=1;t.constructor!==DataView&&(f=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,m=t.buffer,T={buffer:m,bufferByteLength:m.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:f,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(T),ao(i,n);return}if(i._state==="closed"){let A=new d(T.buffer,T.byteOffset,0);n._closeSteps(A);return}if(e._queueTotalSize>0){if(Zn(e,T)){let A=Kn(T);Xn(e),n._chunkSteps(A);return}if(e._closeRequested){let A=new TypeError("Insufficient bytes to fill elements in the given buffer");he(e,A),n._errorSteps(A);return}}e._pendingPullIntos.push(T),ao(i,n),Ye(e)}function Ya(e,t){let n=e._controlledReadableByteStream;if(nn(n))for(;io(n)>0;){let i=or(e);Xr(n,i)}}function Qa(e,t,n){if(Jn(e,t,n),n.bytesFilled<n.elementSize)return;or(e);let i=n.bytesFilled%n.elementSize;if(i>0){let f=n.byteOffset+n.bytesFilled,d=Yn(n.buffer,f-i,f);nr(e,d,0,d.byteLength)}n.bytesFilled-=i,Xr(e._controlledReadableByteStream,n),eo(e)}function to(e,t){let n=e._pendingPullIntos.peek();en(e),e._controlledReadableByteStream._state==="closed"?Ya(e):Qa(e,t,n),Ye(e)}function or(e){return e._pendingPullIntos.shift()}function Ga(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Mn(t)&&He(t)>0||nn(t)&&io(t)>0||ro(e)>0)}function ar(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Bt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw he(e,i),i}ar(e),zt(t)}}function ir(e,t){let n=e._controlledReadableByteStream;if(e._closeRequested||n._state!=="readable")return;let i=t.buffer,f=t.byteOffset,d=t.byteLength,m=i;if(e._pendingPullIntos.length>0){let T=e._pendingPullIntos.peek();rr(T.buffer),T.buffer=T.buffer}if(en(e),Mn(n))if(He(n)===0)nr(e,m,f,d);else{e._pendingPullIntos.length>0&&or(e);let T=new Uint8Array(m,f,d);Pe(n,T,!1)}else nn(n)?(nr(e,m,f,d),eo(e)):nr(e,m,f,d);Ye(e)}function he(e,t){let n=e._controlledReadableByteStream;n._state==="readable"&&(Gn(e),Fe(e),ar(e),Oo(n,t))}function tn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(Pt.prototype);Za(i,e,n),e._byobRequest=i}return e._byobRequest}function ro(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function sr(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,to(e,t)}function ur(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let f=t.byteLength;n.buffer=t.buffer,to(e,f)}function no(e,t,n,i,f,d,m){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Fe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=i,t._cancelAlgorithm=f,t._autoAllocateChunkSize=m,t._pendingPullIntos=new Y,e._readableStreamController=t;let T=n();C(w(T),()=>{t._started=!0,Ye(t)},A=>{he(t,A)})}function Ka(e,t,n){let i=Object.create(ft.prototype),f=()=>{},d=()=>w(void 0),m=()=>w(void 0);t.start!==void 0&&(f=()=>t.start(i)),t.pull!==void 0&&(d=()=>t.pull(i)),t.cancel!==void 0&&(m=A=>t.cancel(A));let T=t.autoAllocateChunkSize;if(T===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");no(e,i,f,d,m,n,T)}function Za(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function rn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function kt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function oo(e){return new Ot(e)}function ao(e,t){e._reader._readIntoRequests.push(t)}function Ja(e,t,n){let f=e._reader._readIntoRequests.shift();n?f._closeSteps(t):f._chunkSteps(t)}function io(e){return e._reader._readIntoRequests.length}function nn(e){let t=e._reader;return!(t===void 0||!Qe(t))}class Ot{constructor(t){if(Q(t,1,"ReadableStreamBYOBReader"),xe(t,"First parameter"),ze(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ve(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");vt(this,t),this._readIntoRequests=new Y}get closed(){return Qe(this)?this._closedPromise:g(lr("closed"))}cancel(t=void 0){return Qe(this)?this._ownerReadableStream===void 0?g(ge("cancel")):at(this,t):g(lr("cancel"))}read(t){if(!Qe(this))return g(lr("read"));if(!ArrayBuffer.isView(t))return g(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(rr(t.buffer),this._ownerReadableStream===void 0)return g(ge("read from"));let n,i,f=S((m,T)=>{n=m,i=T});return so(this,t,{_chunkSteps:m=>n({value:m,done:!1}),_closeSteps:m=>n({value:m,done:!0}),_errorSteps:m=>i(m)}),f}releaseLock(){if(!Qe(this))throw lr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)}}}Object.defineProperties(Ot.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ot.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Qe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Ot}function so(e,t,n){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="errored"?n._errorSteps(i._storedError):Va(i._readableStreamController,t,n)}function lr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Wt(e,t){let{highWaterMark:n}=e;if(n===void 0)return t;if(Hn(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function fr(e){let{size:t}=e;return t||(()=>1)}function cr(e,t){N(e,t);let n=e?.highWaterMark,i=e?.size;return{highWaterMark:n===void 0?void 0:te(n),size:i===void 0?void 0:Xa(i,`${t} has member 'size' that`)}}function Xa(e,t){return M(e,t),n=>te(e(n))}function ei(e,t){N(e,t);let n=e?.abort,i=e?.close,f=e?.start,d=e?.type,m=e?.write;return{abort:n===void 0?void 0:ti(n,e,`${t} has member 'abort' that`),close:i===void 0?void 0:ri(i,e,`${t} has member 'close' that`),start:f===void 0?void 0:ni(f,e,`${t} has member 'start' that`),write:m===void 0?void 0:oi(m,e,`${t} has member 'write' that`),type:d}}function ti(e,t,n){return M(e,n),i=>q(e,t,[i])}function ri(e,t,n){return M(e,n),()=>q(e,t,[])}function ni(e,t,n){return M(e,n),i=>U(e,t,[i])}function oi(e,t,n){return M(e,n),(i,f)=>q(e,t,[i,f])}function uo(e,t){if(!ct(e))throw new TypeError(`${t} is not a WritableStream.`)}function ai(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let ii=typeof AbortController=="function";function si(){if(ii)return new AbortController}class Dt{constructor(t={},n={}){t===void 0?t=null:ee(t,"First parameter");let i=cr(n,"Second parameter"),f=ei(t,"First parameter");if(fo(this),f.type!==void 0)throw new RangeError("Invalid type is specified");let m=fr(i),T=Wt(i,1);wi(this,f,T,m)}get locked(){if(!ct(this))throw pr("locked");return dt(this)}abort(t=void 0){return ct(this)?dt(this)?g(new TypeError("Cannot abort a stream that already has a writer")):dr(this,t):g(pr("abort"))}close(){return ct(this)?dt(this)?g(new TypeError("Cannot close a stream that already has a writer")):we(this)?g(new TypeError("Cannot close an already-closing stream")):co(this):g(pr("close"))}getWriter(){if(!ct(this))throw pr("getWriter");return lo(this)}}Object.defineProperties(Dt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function lo(e){return new Ft(e)}function ui(e,t,n,i,f=1,d=()=>1){let m=Object.create(Dt.prototype);fo(m);let T=Object.create(ht.prototype);return go(m,T,e,t,n,i,f,d),m}function fo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Y,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Dt}function dt(e){return e._writer!==void 0}function dr(e,t){var n;if(e._state==="closed"||e._state==="errored")return w(void 0);e._writableStreamController._abortReason=t,(n=e._writableStreamController._abortController)===null||n===void 0||n.abort();let i=e._state;if(i==="closed"||i==="errored")return w(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let f=!1;i==="erroring"&&(f=!0,t=void 0);let d=S((m,T)=>{e._pendingAbortRequest={_promise:void 0,_resolve:m,_reject:T,_reason:t,_wasAlreadyErroring:f}});return e._pendingAbortRequest._promise=d,f||an(e,t),d}function co(e){let t=e._state;if(t==="closed"||t==="errored")return g(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let n=S((f,d)=>{let m={_resolve:f,_reject:d};e._closeRequest=m}),i=e._writer;return i!==void 0&&e._backpressure&&t==="writable"&&bn(i),Ri(e._writableStreamController),n}function li(e){return S((n,i)=>{let f={_resolve:n,_reject:i};e._writeRequests.push(f)})}function on(e,t){if(e._state==="writable"){an(e,t);return}sn(e)}function an(e,t){let n=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;i!==void 0&&mo(i,t),!mi(e)&&n._started&&sn(e)}function sn(e){e._state="errored",e._writableStreamController[ut]();let t=e._storedError;if(e._writeRequests.forEach(f=>{f._reject(t)}),e._writeRequests=new Y,e._pendingAbortRequest===void 0){hr(e);return}let n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring){n._reject(t),hr(e);return}let i=e._writableStreamController[st](n._reason);C(i,()=>{n._resolve(),hr(e)},f=>{n._reject(f),hr(e)})}function fi(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function ci(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,on(e,t)}function di(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let n=e._writer;n!==void 0&&Ro(n)}function hi(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),on(e,t)}function we(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function mi(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function bi(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function pi(e){e._inFlightWriteRequest=e._writeRequests.shift()}function hr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&hn(t,e._storedError)}function un(e,t){let n=e._writer;n!==void 0&&t!==e._backpressure&&(t?Bi(n):bn(n)),e._backpressure=t}class Ft{constructor(t){if(Q(t,1,"WritableStreamDefaultWriter"),uo(t,"First parameter"),dt(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let n=t._state;if(n==="writable")!we(t)&&t._backpressure?gr(this):To(this),yr(this);else if(n==="erroring")mn(this,t._storedError),yr(this);else if(n==="closed")To(this),Ai(this);else{let i=t._storedError;mn(this,i),wo(this,i)}}get closed(){return Ge(this)?this._closedPromise:g(Ke("closed"))}get desiredSize(){if(!Ge(this))throw Ke("desiredSize");if(this._ownerWritableStream===void 0)throw qt("desiredSize");return Si(this)}get ready(){return Ge(this)?this._readyPromise:g(Ke("ready"))}abort(t=void 0){return Ge(this)?this._ownerWritableStream===void 0?g(qt("abort")):yi(this,t):g(Ke("abort"))}close(){if(!Ge(this))return g(Ke("close"));let t=this._ownerWritableStream;return t===void 0?g(qt("close")):we(t)?g(new TypeError("Cannot close an already-closing stream")):ho(this)}releaseLock(){if(!Ge(this))throw Ke("releaseLock");this._ownerWritableStream!==void 0&&bo(this)}write(t=void 0){return Ge(this)?this._ownerWritableStream===void 0?g(qt("write to")):po(this,t):g(Ke("write"))}}Object.defineProperties(Ft.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ft.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ge(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Ft}function yi(e,t){let n=e._ownerWritableStream;return dr(n,t)}function ho(e){let t=e._ownerWritableStream;return co(t)}function gi(e){let t=e._ownerWritableStream,n=t._state;return we(t)||n==="closed"?w(void 0):n==="errored"?g(t._storedError):ho(e)}function _i(e,t){e._closedPromiseState==="pending"?hn(e,t):Pi(e,t)}function mo(e,t){e._readyPromiseState==="pending"?vo(e,t):ki(e,t)}function Si(e){let t=e._ownerWritableStream,n=t._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:_o(t._writableStreamController)}function bo(e){let t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");mo(e,n),_i(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function po(e,t){let n=e._ownerWritableStream,i=n._writableStreamController,f=Ti(i,t);if(n!==e._ownerWritableStream)return g(qt("write to"));let d=n._state;if(d==="errored")return g(n._storedError);if(we(n)||d==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return g(n._storedError);let m=li(n);return vi(i,t,f),m}let yo={};class ht{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ln(this))throw dn("abortReason");return this._abortReason}get signal(){if(!ln(this))throw dn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!ln(this))throw dn("error");this._controlledWritableStream._state==="writable"&&So(this,t)}[st](t){let n=this._abortAlgorithm(t);return mr(this),n}[ut](){Fe(this)}}Object.defineProperties(ht.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ht.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ln(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ht}function go(e,t,n,i,f,d,m,T){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Fe(t),t._abortReason=void 0,t._abortController=si(),t._started=!1,t._strategySizeAlgorithm=T,t._strategyHWM=m,t._writeAlgorithm=i,t._closeAlgorithm=f,t._abortAlgorithm=d;let A=cn(t);un(e,A);let k=n(),O=w(k);C(O,()=>{t._started=!0,br(t)},W=>{t._started=!0,on(e,W)})}function wi(e,t,n,i){let f=Object.create(ht.prototype),d=()=>{},m=()=>w(void 0),T=()=>w(void 0),A=()=>w(void 0);t.start!==void 0&&(d=()=>t.start(f)),t.write!==void 0&&(m=k=>t.write(k,f)),t.close!==void 0&&(T=()=>t.close()),t.abort!==void 0&&(A=k=>t.abort(k)),go(e,f,d,m,T,A,n,i)}function mr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ri(e){Zr(e,yo,0),br(e)}function Ti(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return fn(e,n),1}}function _o(e){return e._strategyHWM-e._queueTotalSize}function vi(e,t,n){try{Zr(e,t,n)}catch(f){fn(e,f);return}let i=e._controlledWritableStream;if(!we(i)&&i._state==="writable"){let f=cn(e);un(i,f)}br(e)}function br(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){sn(t);return}if(e._queue.length===0)return;let i=Ha(e);i===yo?Ei(e):Ci(e,i)}function fn(e,t){e._controlledWritableStream._state==="writable"&&So(e,t)}function Ei(e){let t=e._controlledWritableStream;bi(t),Kr(e);let n=e._closeAlgorithm();mr(e),C(n,()=>{di(t)},i=>{hi(t,i)})}function Ci(e,t){let n=e._controlledWritableStream;pi(n);let i=e._writeAlgorithm(t);C(i,()=>{fi(n);let f=n._state;if(Kr(e),!we(n)&&f==="writable"){let d=cn(e);un(n,d)}br(e)},f=>{n._state==="writable"&&mr(e),ci(n,f)})}function cn(e){return _o(e)<=0}function So(e,t){let n=e._controlledWritableStream;mr(e),an(n,t)}function pr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function dn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ke(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function qt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function yr(e){e._closedPromise=S((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function wo(e,t){yr(e),hn(e,t)}function Ai(e){yr(e),Ro(e)}function hn(e,t){e._closedPromise_reject!==void 0&&($(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Pi(e,t){wo(e,t)}function Ro(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function gr(e){e._readyPromise=S((t,n)=>{e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function mn(e,t){gr(e),vo(e,t)}function To(e){gr(e),bn(e)}function vo(e,t){e._readyPromise_reject!==void 0&&($(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Bi(e){gr(e)}function ki(e,t){mn(e,t)}function bn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Eo=typeof DOMException<"u"?DOMException:void 0;function Oi(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Wi(){let e=function(n,i){this.message=n||"",this.name=i||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Di=Oi(Eo)?Eo:Wi();function Co(e,t,n,i,f,d){let m=fe(e),T=lo(t);e._disturbed=!0;let A=!1,k=w(void 0);return S((O,W)=>{let j;if(d!==void 0){if(j=()=>{let v=new Di("Aborted","AbortError"),B=[];i||B.push(()=>t._state==="writable"?dr(t,v):w(void 0)),f||B.push(()=>e._state==="readable"?me(e,v):w(void 0)),re(()=>Promise.all(B.map(I=>I())),!0,v)},d.aborted){j();return}d.addEventListener("abort",j)}function be(){return S((v,B)=>{function I(ie){ie?v():y(pt(),I,B)}I(!1)})}function pt(){return A?w(!0):y(T._readyPromise,()=>S((v,B)=>{Ct(m,{_chunkSteps:I=>{k=y(po(T,I),void 0,a),v(!1)},_closeSteps:()=>v(!0),_errorSteps:B})}))}if(Be(e,m._closedPromise,v=>{i?ce(!0,v):re(()=>dr(t,v),!0,v)}),Be(t,T._closedPromise,v=>{f?ce(!0,v):re(()=>me(e,v),!0,v)}),G(e,m._closedPromise,()=>{n?ce():re(()=>gi(T))}),we(t)||t._state==="closed"){let v=new TypeError("the destination writable stream closed before all data could be piped to it");f?ce(!0,v):re(()=>me(e,v),!0,v)}$(be());function Me(){let v=k;return y(k,()=>v!==k?Me():void 0)}function Be(v,B,I){v._state==="errored"?I(v._storedError):P(B,I)}function G(v,B,I){v._state==="closed"?I():E(B,I)}function re(v,B,I){if(A)return;A=!0,t._state==="writable"&&!we(t)?E(Me(),ie):ie();function ie(){C(v(),()=>ke(B,I),yt=>ke(!0,yt))}}function ce(v,B){A||(A=!0,t._state==="writable"&&!we(t)?E(Me(),()=>ke(v,B)):ke(v,B))}function ke(v,B){bo(T),L(m),d!==void 0&&d.removeEventListener("abort",j),v?W(B):O(void 0)}})}class mt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!_r(this))throw Rr("desiredSize");return pn(this)}close(){if(!_r(this))throw Rr("close");if(!bt(this))throw new TypeError("The stream is not in a state that permits close");It(this)}enqueue(t=void 0){if(!_r(this))throw Rr("enqueue");if(!bt(this))throw new TypeError("The stream is not in a state that permits enqueue");return wr(this,t)}error(t=void 0){if(!_r(this))throw Rr("error");qe(this,t)}[_e](t){Fe(this);let n=this._cancelAlgorithm(t);return Sr(this),n}[je](t){let n=this._controlledReadableStream;if(this._queue.length>0){let i=Kr(this);this._closeRequested&&this._queue.length===0?(Sr(this),zt(n)):Lt(this),t._chunkSteps(i)}else lt(n,t),Lt(this)}}Object.defineProperties(mt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function _r(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof mt}function Lt(e){if(!Ao(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let n=e._pullAlgorithm();C(n,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Lt(e))},i=>{qe(e,i)})}function Ao(e){let t=e._controlledReadableStream;return!bt(e)||!e._started?!1:!!(ze(t)&&He(t)>0||pn(e)>0)}function Sr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function It(e){if(!bt(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Sr(e),zt(t))}function wr(e,t){if(!bt(e))return;let n=e._controlledReadableStream;if(ze(n)&&He(n)>0)Pe(n,t,!1);else{let i;try{i=e._strategySizeAlgorithm(t)}catch(f){throw qe(e,f),f}try{Zr(e,t,i)}catch(f){throw qe(e,f),f}}Lt(e)}function qe(e,t){let n=e._controlledReadableStream;n._state==="readable"&&(Fe(e),Sr(e),Oo(n,t))}function pn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Fi(e){return!Ao(e)}function bt(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Po(e,t,n,i,f,d,m){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=m,t._strategyHWM=d,t._pullAlgorithm=i,t._cancelAlgorithm=f,e._readableStreamController=t;let T=n();C(w(T),()=>{t._started=!0,Lt(t)},A=>{qe(t,A)})}function qi(e,t,n,i){let f=Object.create(mt.prototype),d=()=>{},m=()=>w(void 0),T=()=>w(void 0);t.start!==void 0&&(d=()=>t.start(f)),t.pull!==void 0&&(m=()=>t.pull(f)),t.cancel!==void 0&&(T=A=>t.cancel(A)),Po(e,f,d,m,T,n,i)}function Rr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Li(e,t){return Ve(e._readableStreamController)?zi(e):Ii(e)}function Ii(e,t){let n=fe(e),i=!1,f=!1,d=!1,m=!1,T,A,k,O,W,j=S(G=>{W=G});function be(){return i?(f=!0,w(void 0)):(i=!0,Ct(n,{_chunkSteps:re=>{D(()=>{f=!1;let ce=re,ke=re;d||wr(k._readableStreamController,ce),m||wr(O._readableStreamController,ke),i=!1,f&&be()})},_closeSteps:()=>{i=!1,d||It(k._readableStreamController),m||It(O._readableStreamController),(!d||!m)&&W(void 0)},_errorSteps:()=>{i=!1}}),w(void 0))}function pt(G){if(d=!0,T=G,m){let re=At([T,A]),ce=me(e,re);W(ce)}return j}function Me(G){if(m=!0,A=G,d){let re=At([T,A]),ce=me(e,re);W(ce)}return j}function Be(){}return k=yn(Be,be,pt),O=yn(Be,be,Me),P(n._closedPromise,G=>{qe(k._readableStreamController,G),qe(O._readableStreamController,G),(!d||!m)&&W(void 0)}),[k,O]}function zi(e){let t=fe(e),n=!1,i=!1,f=!1,d=!1,m=!1,T,A,k,O,W,j=S(v=>{W=v});function be(v){P(v._closedPromise,B=>{v===t&&(he(k._readableStreamController,B),he(O._readableStreamController,B),(!d||!m)&&W(void 0))})}function pt(){Qe(t)&&(L(t),t=fe(e),be(t)),Ct(t,{_chunkSteps:B=>{D(()=>{i=!1,f=!1;let I=B,ie=B;if(!d&&!m)try{ie=Qn(B)}catch(yt){he(k._readableStreamController,yt),he(O._readableStreamController,yt),W(me(e,yt));return}d||ir(k._readableStreamController,I),m||ir(O._readableStreamController,ie),n=!1,i?Be():f&&G()})},_closeSteps:()=>{n=!1,d||Bt(k._readableStreamController),m||Bt(O._readableStreamController),k._readableStreamController._pendingPullIntos.length>0&&sr(k._readableStreamController,0),O._readableStreamController._pendingPullIntos.length>0&&sr(O._readableStreamController,0),(!d||!m)&&W(void 0)},_errorSteps:()=>{n=!1}})}function Me(v,B){De(t)&&(L(t),t=oo(e),be(t));let I=B?O:k,ie=B?k:O;so(t,v,{_chunkSteps:gt=>{D(()=>{i=!1,f=!1;let _t=B?m:d;if(B?d:m)_t||ur(I._readableStreamController,gt);else{let xo;try{xo=Qn(gt)}catch(_n){he(I._readableStreamController,_n),he(ie._readableStreamController,_n),W(me(e,_n));return}_t||ur(I._readableStreamController,gt),ir(ie._readableStreamController,xo)}n=!1,i?Be():f&&G()})},_closeSteps:gt=>{n=!1;let _t=B?m:d,Or=B?d:m;_t||Bt(I._readableStreamController),Or||Bt(ie._readableStreamController),gt!==void 0&&(_t||ur(I._readableStreamController,gt),!Or&&ie._readableStreamController._pendingPullIntos.length>0&&sr(ie._readableStreamController,0)),(!_t||!Or)&&W(void 0)},_errorSteps:()=>{n=!1}})}function Be(){if(n)return i=!0,w(void 0);n=!0;let v=tn(k._readableStreamController);return v===null?pt():Me(v._view,!1),w(void 0)}function G(){if(n)return f=!0,w(void 0);n=!0;let v=tn(O._readableStreamController);return v===null?pt():Me(v._view,!0),w(void 0)}function re(v){if(d=!0,T=v,m){let B=At([T,A]),I=me(e,B);W(I)}return j}function ce(v){if(m=!0,A=v,d){let B=At([T,A]),I=me(e,B);W(I)}return j}function ke(){}return k=ko(ke,Be,re),O=ko(ke,G,ce),be(t),[k,O]}function Mi(e,t){N(e,t);let n=e,i=n?.autoAllocateChunkSize,f=n?.cancel,d=n?.pull,m=n?.start,T=n?.type;return{autoAllocateChunkSize:i===void 0?void 0:ae(i,`${t} has member 'autoAllocateChunkSize' that`),cancel:f===void 0?void 0:$i(f,n,`${t} has member 'cancel' that`),pull:d===void 0?void 0:Ui(d,n,`${t} has member 'pull' that`),start:m===void 0?void 0:ji(m,n,`${t} has member 'start' that`),type:T===void 0?void 0:Ni(T,`${t} has member 'type' that`)}}function $i(e,t,n){return M(e,n),i=>q(e,t,[i])}function Ui(e,t,n){return M(e,n),i=>q(e,t,[i])}function ji(e,t,n){return M(e,n),i=>U(e,t,[i])}function Ni(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function xi(e,t){N(e,t);let n=e?.mode;return{mode:n===void 0?void 0:Hi(n,`${t} has member 'mode' that`)}}function Hi(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Vi(e,t){N(e,t);let n=e?.preventCancel;return{preventCancel:Boolean(n)}}function Bo(e,t){N(e,t);let n=e?.preventAbort,i=e?.preventCancel,f=e?.preventClose,d=e?.signal;return d!==void 0&&Yi(d,`${t} has member 'signal' that`),{preventAbort:Boolean(n),preventCancel:Boolean(i),preventClose:Boolean(f),signal:d}}function Yi(e,t){if(!ai(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Qi(e,t){N(e,t);let n=e?.readable;Ae(n,"readable","ReadableWritablePair"),xe(n,`${t} has member 'readable' that`);let i=e?.writable;return Ae(i,"writable","ReadableWritablePair"),uo(i,`${t} has member 'writable' that`),{readable:n,writable:i}}class Le{constructor(t={},n={}){t===void 0?t=null:ee(t,"First parameter");let i=cr(n,"Second parameter"),f=Mi(t,"First parameter");if(gn(this),f.type==="bytes"){if(i.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Wt(i,0);Ka(this,f,d)}else{let d=fr(i),m=Wt(i,1);qi(this,f,m,d)}}get locked(){if(!Ie(this))throw Ze("locked");return ze(this)}cancel(t=void 0){return Ie(this)?ze(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):me(this,t):g(Ze("cancel"))}getReader(t=void 0){if(!Ie(this))throw Ze("getReader");return xi(t,"First parameter").mode===void 0?fe(this):oo(this)}pipeThrough(t,n={}){if(!Ie(this))throw Ze("pipeThrough");Q(t,1,"pipeThrough");let i=Qi(t,"First parameter"),f=Bo(n,"Second parameter");if(ze(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(dt(i.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=Co(this,i.writable,f.preventClose,f.preventAbort,f.preventCancel,f.signal);return $(d),i.readable}pipeTo(t,n={}){if(!Ie(this))return g(Ze("pipeTo"));if(t===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!ct(t))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let i;try{i=Bo(n,"Second parameter")}catch(f){return g(f)}return ze(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):dt(t)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Co(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)}tee(){if(!Ie(this))throw Ze("tee");let t=Li(this);return At(t)}values(t=void 0){if(!Ie(this))throw Ze("values");let n=Vi(t,"First parameter");return Na(this,n.preventCancel)}}Object.defineProperties(Le.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Le.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Le.prototype,r.asyncIterator,{value:Le.prototype.values,writable:!0,configurable:!0});function yn(e,t,n,i=1,f=()=>1){let d=Object.create(Le.prototype);gn(d);let m=Object.create(mt.prototype);return Po(d,m,e,t,n,i,f),d}function ko(e,t,n){let i=Object.create(Le.prototype);gn(i);let f=Object.create(ft.prototype);return no(i,f,e,t,n,0,void 0),i}function gn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ie(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Le}function ze(e){return e._reader!==void 0}function me(e,t){if(e._disturbed=!0,e._state==="closed")return w(void 0);if(e._state==="errored")return g(e._storedError);zt(e);let n=e._reader;n!==void 0&&Qe(n)&&(n._readIntoRequests.forEach(f=>{f._closeSteps(void 0)}),n._readIntoRequests=new Y);let i=e._readableStreamController[_e](t);return R(i,a)}function zt(e){e._state="closed";let t=e._reader;t!==void 0&&(er(t),De(t)&&(t._readRequests.forEach(n=>{n._closeSteps()}),t._readRequests=new Y))}function Oo(e,t){e._state="errored",e._storedError=t;let n=e._reader;n!==void 0&&(Ee(n,t),De(n)?(n._readRequests.forEach(i=>{i._errorSteps(t)}),n._readRequests=new Y):(n._readIntoRequests.forEach(i=>{i._errorSteps(t)}),n._readIntoRequests=new Y))}function Ze(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Wo(e,t){N(e,t);let n=e?.highWaterMark;return Ae(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:te(n)}}let Do=e=>e.byteLength;Object.defineProperty(Do,"name",{value:"size",configurable:!0});class Tr{constructor(t){Q(t,1,"ByteLengthQueuingStrategy"),t=Wo(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!qo(this))throw Fo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!qo(this))throw Fo("size");return Do}}Object.defineProperties(Tr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Fo(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function qo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof Tr}let Lo=()=>1;Object.defineProperty(Lo,"name",{value:"size",configurable:!0});class vr{constructor(t){Q(t,1,"CountQueuingStrategy"),t=Wo(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!zo(this))throw Io("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!zo(this))throw Io("size");return Lo}}Object.defineProperties(vr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(vr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Io(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function zo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof vr}function Gi(e,t){N(e,t);let n=e?.flush,i=e?.readableType,f=e?.start,d=e?.transform,m=e?.writableType;return{flush:n===void 0?void 0:Ki(n,e,`${t} has member 'flush' that`),readableType:i,start:f===void 0?void 0:Zi(f,e,`${t} has member 'start' that`),transform:d===void 0?void 0:Ji(d,e,`${t} has member 'transform' that`),writableType:m}}function Ki(e,t,n){return M(e,n),i=>q(e,t,[i])}function Zi(e,t,n){return M(e,n),i=>U(e,t,[i])}function Ji(e,t,n){return M(e,n),(i,f)=>q(e,t,[i,f])}class Er{constructor(t={},n={},i={}){t===void 0&&(t=null);let f=cr(n,"Second parameter"),d=cr(i,"Third parameter"),m=Gi(t,"First parameter");if(m.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(m.writableType!==void 0)throw new RangeError("Invalid writableType specified");let T=Wt(d,0),A=fr(d),k=Wt(f,1),O=fr(f),W,j=S(be=>{W=be});Xi(this,j,k,O,T,A),ts(this,m),m.start!==void 0?W(m.start(this._transformStreamController)):W(void 0)}get readable(){if(!Mo(this))throw No("readable");return this._readable}get writable(){if(!Mo(this))throw No("writable");return this._writable}}Object.defineProperties(Er.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Er.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Xi(e,t,n,i,f,d){function m(){return t}function T(j){return os(e,j)}function A(j){return as(e,j)}function k(){return is(e)}e._writable=ui(m,T,k,A,n,i);function O(){return ss(e)}function W(j){return Ar(e,j),w(void 0)}e._readable=yn(m,O,W,f,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Pr(e,!0),e._transformStreamController=void 0}function Mo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Er}function Cr(e,t){qe(e._readable._readableStreamController,t),Ar(e,t)}function Ar(e,t){$o(e._transformStreamController),fn(e._writable._writableStreamController,t),e._backpressure&&Pr(e,!1)}function Pr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=S(n=>{e._backpressureChangePromise_resolve=n}),e._backpressure=t}class Mt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Br(this))throw kr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return pn(t)}enqueue(t=void 0){if(!Br(this))throw kr("enqueue");Uo(this,t)}error(t=void 0){if(!Br(this))throw kr("error");rs(this,t)}terminate(){if(!Br(this))throw kr("terminate");ns(this)}}Object.defineProperties(Mt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Mt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Br(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Mt}function es(e,t,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=i}function ts(e,t){let n=Object.create(Mt.prototype),i=d=>{try{return Uo(n,d),w(void 0)}catch(m){return g(m)}},f=()=>w(void 0);t.transform!==void 0&&(i=d=>t.transform(d,n)),t.flush!==void 0&&(f=()=>t.flush(n)),es(e,n,i,f)}function $o(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Uo(e,t){let n=e._controlledTransformStream,i=n._readable._readableStreamController;if(!bt(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{wr(i,t)}catch(d){throw Ar(n,d),n._readable._storedError}Fi(i)!==n._backpressure&&Pr(n,!0)}function rs(e,t){Cr(e._controlledTransformStream,t)}function jo(e,t){let n=e._transformAlgorithm(t);return R(n,void 0,i=>{throw Cr(e._controlledTransformStream,i),i})}function ns(e){let t=e._controlledTransformStream,n=t._readable._readableStreamController;It(n);let i=new TypeError("TransformStream terminated");Ar(t,i)}function os(e,t){let n=e._transformStreamController;if(e._backpressure){let i=e._backpressureChangePromise;return R(i,()=>{let f=e._writable;if(f._state==="erroring")throw f._storedError;return jo(n,t)})}return jo(n,t)}function as(e,t){return Cr(e,t),w(void 0)}function is(e){let t=e._readable,n=e._transformStreamController,i=n._flushAlgorithm();return $o(n),R(i,()=>{if(t._state==="errored")throw t._storedError;It(t._readableStreamController)},f=>{throw Cr(e,f),t._storedError})}function ss(e){return Pr(e,!1),e._backpressureChangePromise}function kr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function No(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}o.ByteLengthQueuingStrategy=Tr,o.CountQueuingStrategy=vr,o.ReadableByteStreamController=ft,o.ReadableStream=Le,o.ReadableStreamBYOBReader=Ot,o.ReadableStreamBYOBRequest=Pt,o.ReadableStreamDefaultController=mt,o.ReadableStreamDefaultReader=Et,o.TransformStream=Er,o.TransformStreamDefaultController=Mt,o.WritableStream=Dt,o.WritableStreamDefaultController=ht,o.WritableStreamDefaultWriter=Ft,Object.defineProperty(o,"__esModule",{value:!0})})});var Zo=Ho(()=>{if(!globalThis.ReadableStream)try{let o=require("node:process"),{emitWarning:r}=o;try{o.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),o.emitWarning=r}catch(a){throw o.emitWarning=r,a}}catch{Object.assign(globalThis,Ko())}try{let{Blob:o}=require("buffer");o&&!o.prototype.stream&&(o.prototype.stream=function(a){let s=0,u=this;return new ReadableStream({type:"bytes",async pull(l){let _=await u.slice(s,Math.min(u.size,s+65536)).arrayBuffer();s+=_.byteLength,l.enqueue(new Uint8Array(_)),s===u.size&&l.close()}})})}catch{}});async function*Sn(o,r=!0){for(let a of o)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a))if(r){let s=a.byteOffset,u=a.byteOffset+a.byteLength;for(;s!==u;){let l=Math.min(u-s,Jo),c=a.buffer.slice(s,s+l);s+=c.byteLength,yield new Uint8Array(c)}}else yield a;else{let s=0;for(;s!==a.size;){let l=await a.slice(s,Math.min(a.size,s+Jo)).arrayBuffer();s+=l.byteLength,yield new Uint8Array(l)}}}var cu,Jo,Xo,bs,Xe,Ut=$t(()=>{cu=Je(Zo(),1);Jo=65536;Xo=class wn{#e=[];#t="";#r=0;constructor(r=[],a={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof a!="object"&&typeof a!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");a===null&&(a={});let s=new TextEncoder;for(let l of r){let c;ArrayBuffer.isView(l)?c=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?c=new Uint8Array(l.slice(0)):l instanceof wn?c=l:c=s.encode(l),this.#r+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}let u=a.type===void 0?"":String(a.type);this.#t=/^[\x20-\x7E]*$/.test(u)?u:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,a="";for await(let s of Sn(this.#e,!1))a+=r.decode(s,{stream:!0});return a+=r.decode(),a}async arrayBuffer(){let r=new Uint8Array(this.size),a=0;for await(let s of Sn(this.#e,!1))r.set(s,a),a+=s.length;return r.buffer}stream(){let r=Sn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(a){let s=await r.next();s.done?a.close():a.enqueue(s.value)},async cancel(){await r.return()}})}slice(r=0,a=this.size,s=""){let{size:u}=this,l=r<0?Math.max(u+r,0):Math.min(r,u),c=a<0?Math.max(u+a,0):Math.min(a,u),_=Math.max(c-l,0),b=this.#e,h=[],p=0;for(let w of b){if(p>=_)break;let g=ArrayBuffer.isView(w)?w.byteLength:w.size;if(l&&g<=l)l-=g,c-=g;else{let y;ArrayBuffer.isView(w)?(y=w.subarray(l,Math.min(g,c)),p+=y.byteLength):(y=w.slice(l,Math.min(g,c)),p+=y.size),c-=g,h.push(y),l=0}}let S=new wn([],{type:String(s).toLowerCase()});return S.#r=_,S.#e=h,S}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(Xo.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});bs=Xo,Xe=bs});var ps,ys,jt,Rn=$t(()=>{Ut();ps=class extends Xe{#e=0;#t="";constructor(r,a,s={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,s),s===null&&(s={});let u=s.lastModified===void 0?Date.now():Number(s.lastModified);Number.isNaN(u)||(this.#e=u),this.#t=String(a)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}},ys=ps,jt=ys});function ra(o,r=Xe){var a=`${ea()}${ea()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],u=`--${a}\r
Content-Disposition: form-data; name="`;return o.forEach((l,c)=>typeof l=="string"?s.push(u+Tn(c)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(u+Tn(c)+`"; filename="${Tn(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),s.push(`--${a}--`),new r(s,{type:"multipart/form-data; boundary="+a})}var Nt,gs,_s,ea,Ss,ta,Tn,et,St,vn=$t(()=>{Ut();Rn();({toStringTag:Nt,iterator:gs,hasInstance:_s}=Symbol),ea=Math.random,Ss="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ta=(o,r,a)=>(o+="",/^(Blob|File)$/.test(r&&r[Nt])?[(a=a!==void 0?a+"":r[Nt]=="File"?r.name:"blob",o),r.name!==a||r[Nt]=="blob"?new jt([r],a,r):r]:[o,r+""]),Tn=(o,r)=>(r?o:o.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),et=(o,r,a)=>{if(r.length<a)throw new TypeError(`Failed to execute '${o}' on 'FormData': ${a} arguments required, but only ${r.length} present.`)},St=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Nt](){return"FormData"}[gs](){return this.entries()}static[_s](r){return r&&typeof r=="object"&&r[Nt]==="FormData"&&!Ss.some(a=>typeof r[a]!="function")}append(...r){et("append",arguments,2),this.#e.push(ta(...r))}delete(r){et("delete",arguments,1),r+="",this.#e=this.#e.filter(([a])=>a!==r)}get(r){et("get",arguments,1),r+="";for(var a=this.#e,s=a.length,u=0;u<s;u++)if(a[u][0]===r)return a[u][1];return null}getAll(r,a){return et("getAll",arguments,1),a=[],r+="",this.#e.forEach(s=>s[0]===r&&a.push(s[1])),a}has(r){return et("has",arguments,1),r+="",this.#e.some(a=>a[0]===r)}forEach(r,a){et("forEach",arguments,1);for(var[s,u]of this)r.call(a,u,s,this)}set(...r){et("set",arguments,2);var a=[],s=!0;r=ta(...r),this.#e.forEach(u=>{u[0]===r[0]?s&&(s=!a.push(r)):a.push(u)}),s&&a.push(r),this.#e=a}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Ht,oa,ws,Rs,qr,aa=$t(()=>{Ht=require("node:fs"),oa=require("node:worker_threads");Rn();Ut();({stat:ws}=Ht.promises),Rs=globalThis.DOMException||(()=>{let o=new oa.MessageChannel().port1,r=new ArrayBuffer(0);try{o.postMessage(r,[r,r])}catch(a){return a.constructor}})(),qr=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,a){return new qr({path:this.#e,lastModified:this.lastModified,size:a-r,start:r})}async*stream(){let{mtimeMs:r}=await ws(this.#e);if(r>this.lastModified)throw new Rs("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Ht.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var sa={};Vo(sa,{toFormData:()=>Bs});function Ps(o){let r=o.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let a=r[2]||r[3]||"",s=a.slice(a.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(u,l)=>String.fromCharCode(l)),s}async function Bs(o,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let a=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!a)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new Cn(a[1]||a[2]),u,l,c,_,b,h,p=[],S=new St,w=P=>{c+=E.decode(P,{stream:!0})},g=P=>{p.push(P)},y=()=>{let P=new jt(p,h,{type:b});S.append(_,P)},C=()=>{S.append(_,c)},E=new TextDecoder("utf-8");E.decode(),s.onPartBegin=function(){s.onPartData=w,s.onPartEnd=C,u="",l="",c="",_="",b="",h=null,p.length=0},s.onHeaderField=function(P){u+=E.decode(P,{stream:!0})},s.onHeaderValue=function(P){l+=E.decode(P,{stream:!0})},s.onHeaderEnd=function(){if(l+=E.decode(),u=u.toLowerCase(),u==="content-disposition"){let P=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);P&&(_=P[2]||P[3]||""),h=Ps(l),h&&(s.onPartData=g,s.onPartEnd=y)}else u==="content-type"&&(b=l);l="",u=""};for await(let P of o)s.write(P);return s.end(),S}var Re,z,ia,$e,Lr,Ir,Ts,Vt,vs,Es,Cs,As,tt,Cn,ua=$t(()=>{aa();vn();Re=0,z={START_BOUNDARY:Re++,HEADER_FIELD_START:Re++,HEADER_FIELD:Re++,HEADER_VALUE_START:Re++,HEADER_VALUE:Re++,HEADER_VALUE_ALMOST_DONE:Re++,HEADERS_ALMOST_DONE:Re++,PART_DATA_START:Re++,PART_DATA:Re++,END:Re++},ia=1,$e={PART_BOUNDARY:ia,LAST_BOUNDARY:ia*=2},Lr=10,Ir=13,Ts=32,Vt=45,vs=58,Es=97,Cs=122,As=o=>o|32,tt=()=>{},Cn=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=tt,this.onHeaderField=tt,this.onHeadersEnd=tt,this.onHeaderValue=tt,this.onPartBegin=tt,this.onPartData=tt,this.onPartEnd=tt,this.boundaryChars={},r=`\r
--`+r;let a=new Uint8Array(r.length);for(let s=0;s<r.length;s++)a[s]=r.charCodeAt(s),this.boundaryChars[a[s]]=!0;this.boundary=a,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(r){let a=0,s=r.length,u=this.index,{lookbehind:l,boundary:c,boundaryChars:_,index:b,state:h,flags:p}=this,S=this.boundary.length,w=S-1,g=r.length,y,C,E=D=>{this[D+"Mark"]=a},P=D=>{delete this[D+"Mark"]},R=(D,U,q,J)=>{(U===void 0||U!==q)&&this[D](J&&J.subarray(U,q))},$=(D,U)=>{let q=D+"Mark";q in this&&(U?(R(D,this[q],a,r),delete this[q]):(R(D,this[q],r.length,r),this[q]=0))};for(a=0;a<s;a++)switch(y=r[a],h){case z.START_BOUNDARY:if(b===c.length-2){if(y===Vt)p|=$e.LAST_BOUNDARY;else if(y!==Ir)return;b++;break}else if(b-1===c.length-2){if(p&$e.LAST_BOUNDARY&&y===Vt)h=z.END,p=0;else if(!(p&$e.LAST_BOUNDARY)&&y===Lr)b=0,R("onPartBegin"),h=z.HEADER_FIELD_START;else return;break}y!==c[b+2]&&(b=-2),y===c[b+2]&&b++;break;case z.HEADER_FIELD_START:h=z.HEADER_FIELD,E("onHeaderField"),b=0;case z.HEADER_FIELD:if(y===Ir){P("onHeaderField"),h=z.HEADERS_ALMOST_DONE;break}if(b++,y===Vt)break;if(y===vs){if(b===1)return;$("onHeaderField",!0),h=z.HEADER_VALUE_START;break}if(C=As(y),C<Es||C>Cs)return;break;case z.HEADER_VALUE_START:if(y===Ts)break;E("onHeaderValue"),h=z.HEADER_VALUE;case z.HEADER_VALUE:y===Ir&&($("onHeaderValue",!0),R("onHeaderEnd"),h=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(y!==Lr)return;h=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(y!==Lr)return;R("onHeadersEnd"),h=z.PART_DATA_START;break;case z.PART_DATA_START:h=z.PART_DATA,E("onPartData");case z.PART_DATA:if(u=b,b===0){for(a+=w;a<g&&!(r[a]in _);)a+=S;a-=w,y=r[a]}if(b<c.length)c[b]===y?(b===0&&$("onPartData",!0),b++):b=0;else if(b===c.length)b++,y===Ir?p|=$e.PART_BOUNDARY:y===Vt?p|=$e.LAST_BOUNDARY:b=0;else if(b-1===c.length)if(p&$e.PART_BOUNDARY){if(b=0,y===Lr){p&=~$e.PART_BOUNDARY,R("onPartEnd"),R("onPartBegin"),h=z.HEADER_FIELD_START;break}}else p&$e.LAST_BOUNDARY&&y===Vt?(R("onPartEnd"),h=z.END,p=0):b=0;if(b>0)l[b-1]=y;else if(u>0){let D=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);R("onPartData",0,u,D),u=0,E("onPartData"),a--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${h}`)}$("onHeaderField"),$("onHeaderValue"),$("onPartData"),this.index=b,this.state=h,this.flags=p}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var au={};Vo(au,{default:()=>ou});module.exports=hs(au);var V=require("@raycast/api");var Qr=require("react");var Ra=Je(require("node:http"),1),Ta=Je(require("node:https"),1),rt=Je(require("node:zlib"),1),ue=Je(require("node:stream"),1);function ms(o){if(!/^data:/i.test(o))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');o=o.replace(/\r?\n/g,"");let r=o.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let a=o.substring(5,r).split(";"),s="",u=!1,l=a[0]||"text/plain",c=l;for(let p=1;p<a.length;p++)a[p]==="base64"?u=!0:(c+=`;${a[p]}`,a[p].indexOf("charset=")===0&&(s=a[p].substring(8)));!a[0]&&!s.length&&(c+=";charset=US-ASCII",s="US-ASCII");let _=u?"base64":"ascii",b=unescape(o.substring(r+1)),h=Buffer.from(b,_);return h.type=l,h.typeFull=c,h.charset=s,h}var Qo=ms;var pe=Je(require("node:stream"),1),wt=require("node:util");Ut();vn();var Oe=class extends Error{constructor(r,a){super(r),Error.captureStackTrace(this,this.constructor),this.type=a}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var se=class extends Oe{constructor(r,a,s){super(r,a),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var Fr=Symbol.toStringTag,En=o=>typeof o=="object"&&typeof o.append=="function"&&typeof o.delete=="function"&&typeof o.get=="function"&&typeof o.getAll=="function"&&typeof o.has=="function"&&typeof o.set=="function"&&typeof o.sort=="function"&&o[Fr]==="URLSearchParams",xt=o=>o&&typeof o=="object"&&typeof o.arrayBuffer=="function"&&typeof o.type=="string"&&typeof o.stream=="function"&&typeof o.constructor=="function"&&/^(Blob|File)$/.test(o[Fr]),na=o=>typeof o=="object"&&(o[Fr]==="AbortSignal"||o[Fr]==="EventTarget");var ne=Symbol("Body internals"),Te=class{constructor(r,{size:a=0}={}){let s=null;r===null?r=null:En(r)?r=Buffer.from(r.toString()):xt(r)||Buffer.isBuffer(r)||(wt.types.isAnyArrayBuffer(r)?r=Buffer.from(r):ArrayBuffer.isView(r)?r=Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof pe.default||(r instanceof St?(r=ra(r),s=r.type.split("=")[1]):r=Buffer.from(String(r))));let u=r;Buffer.isBuffer(r)?u=pe.default.Readable.from(r):xt(r)&&(u=pe.default.Readable.from(r.stream())),this[ne]={body:r,stream:u,boundary:s,disturbed:!1,error:null},this.size=a,r instanceof pe.default&&r.on("error",l=>{let c=l instanceof Oe?l:new se(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[ne].error=c})}get body(){return this[ne].stream}get bodyUsed(){return this[ne].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:a,byteLength:s}=await zr(this);return r.slice(a,a+s)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let s=new St,u=new URLSearchParams(await this.text());for(let[l,c]of u)s.append(l,c);return s}let{toFormData:a}=await Promise.resolve().then(()=>(ua(),sa));return a(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[ne].body&&this[ne].body.type||"",a=await this.buffer();return new Xe([a],{type:r})}async json(){let r=await zr(this);return JSON.parse(r.toString())}async text(){return(await zr(this)).toString()}buffer(){return zr(this)}};Te.prototype.buffer=(0,wt.deprecate)(Te.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Te.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});async function zr(o){if(o[ne].disturbed)throw new TypeError(`body used already for: ${o.url}`);if(o[ne].disturbed=!0,o[ne].error)throw o[ne].error;let{body:r}=o;if(r===null||!(r instanceof pe.default))return Buffer.alloc(0);let a=[],s=0;try{for await(let u of r){if(o.size>0&&s+u.length>o.size){let l=new se(`content size at ${o.url} over limit: ${o.size}`,"max-size");throw r.destroy(l),l}s+=u.length,a.push(u)}}catch(u){throw u instanceof Oe?u:new se(`Invalid response body while trying to fetch ${o.url}: ${u.message}`,"system",u)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return a.every(u=>typeof u=="string")?Buffer.from(a.join("")):Buffer.concat(a,s)}catch(u){throw new se(`Could not create Buffer from response body for ${o.url}: ${u.message}`,"system",u)}else throw new se(`Premature close of server response while trying to fetch ${o.url}`)}var Rt=(o,r)=>{let a,s,{body:u}=o[ne];if(o.bodyUsed)throw new Error("cannot clone body after it is used");return u instanceof pe.default&&typeof u.getBoundary!="function"&&(a=new pe.PassThrough({highWaterMark:r}),s=new pe.PassThrough({highWaterMark:r}),u.pipe(a),u.pipe(s),o[ne].stream=a,u=s),u},ks=(0,wt.deprecate)(o=>o.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Mr=(o,r)=>o===null?null:typeof o=="string"?"text/plain;charset=UTF-8":En(o)?"application/x-www-form-urlencoded;charset=UTF-8":xt(o)?o.type||null:Buffer.isBuffer(o)||wt.types.isAnyArrayBuffer(o)||ArrayBuffer.isView(o)?null:o instanceof St?`multipart/form-data; boundary=${r[ne].boundary}`:o&&typeof o.getBoundary=="function"?`multipart/form-data;boundary=${ks(o)}`:o instanceof pe.default?null:"text/plain;charset=UTF-8",la=o=>{let{body:r}=o[ne];return r===null?0:xt(r)?r.size:Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},fa=(o,{body:r})=>{r===null?o.end():r.pipe(o)};var An=require("node:util"),Yt=Je(require("node:http"),1),$r=typeof Yt.default.validateHeaderName=="function"?Yt.default.validateHeaderName:o=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(o)){let r=new TypeError(`Header name must be a valid HTTP token [${o}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Pn=typeof Yt.default.validateHeaderValue=="function"?Yt.default.validateHeaderValue:(o,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let a=new TypeError(`Invalid character in header content ["${o}"]`);throw Object.defineProperty(a,"code",{value:"ERR_INVALID_CHAR"}),a}},oe=class extends URLSearchParams{constructor(r){let a=[];if(r instanceof oe){let s=r.raw();for(let[u,l]of Object.entries(s))a.push(...l.map(c=>[u,c]))}else if(r!=null)if(typeof r=="object"&&!An.types.isBoxedPrimitive(r)){let s=r[Symbol.iterator];if(s==null)a.push(...Object.entries(r));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");a=[...r].map(u=>{if(typeof u!="object"||An.types.isBoxedPrimitive(u))throw new TypeError("Each header pair must be an iterable object");return[...u]}).map(u=>{if(u.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...u]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return a=a.length>0?a.map(([s,u])=>($r(s),Pn(s,String(u)),[String(s).toLowerCase(),String(u)])):void 0,super(a),new Proxy(this,{get(s,u,l){switch(u){case"append":case"set":return(c,_)=>($r(c),Pn(c,String(_)),URLSearchParams.prototype[u].call(s,String(c).toLowerCase(),String(_)));case"delete":case"has":case"getAll":return c=>($r(c),URLSearchParams.prototype[u].call(s,String(c).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,u,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let a=this.getAll(r);if(a.length===0)return null;let s=a.join(", ");return/^content-encoding$/i.test(r)&&(s=s.toLowerCase()),s}forEach(r,a=void 0){for(let s of this.keys())Reflect.apply(r,a,[this.get(s),s,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,a)=>(r[a]=this.getAll(a),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,a)=>{let s=this.getAll(a);return a==="host"?r[a]=s[0]:r[a]=s.length>1?s:s[0],r},{})}};Object.defineProperties(oe.prototype,["get","entries","forEach","values"].reduce((o,r)=>(o[r]={enumerable:!0},o),{}));function ca(o=[]){return new oe(o.reduce((r,a,s,u)=>(s%2===0&&r.push(u.slice(s,s+2)),r),[]).filter(([r,a])=>{try{return $r(r),Pn(r,String(a)),!0}catch{return!1}}))}var Os=new Set([301,302,303,307,308]),Ur=o=>Os.has(o);var ye=Symbol("Response internals"),K=class extends Te{constructor(r=null,a={}){super(r,a);let s=a.status!=null?a.status:200,u=new oe(a.headers);if(r!==null&&!u.has("Content-Type")){let l=Mr(r,this);l&&u.append("Content-Type",l)}this[ye]={type:"default",url:a.url,status:s,statusText:a.statusText||"",headers:u,counter:a.counter,highWaterMark:a.highWaterMark}}get type(){return this[ye].type}get url(){return this[ye].url||""}get status(){return this[ye].status}get ok(){return this[ye].status>=200&&this[ye].status<300}get redirected(){return this[ye].counter>0}get statusText(){return this[ye].statusText}get headers(){return this[ye].headers}get highWaterMark(){return this[ye].highWaterMark}clone(){return new K(Rt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,a=302){if(!Ur(a))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new K(null,{headers:{location:new URL(r).toString()},status:a})}static error(){let r=new K(null,{status:0,statusText:""});return r[ye].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(K.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Sa=require("node:url");var da=o=>{if(o.search)return o.search;let r=o.href.length-1,a=o.hash||(o.href[r]==="#"?"#":"");return o.href[r-a.length]==="?"?"?":""};var ma=require("net");function ha(o,r=!1){return o==null||(o=new URL(o),/^(about|blob|data):$/.test(o.protocol))?"no-referrer":(o.username="",o.password="",o.hash="",r&&(o.pathname="",o.search=""),o)}var ba=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),pa="strict-origin-when-cross-origin";function ya(o){if(!ba.has(o))throw new TypeError(`Invalid referrerPolicy: ${o}`);return o}function Ws(o){if(/^(http|ws)s:$/.test(o.protocol))return!0;let r=o.host.replace(/(^\[)|(]$)/g,""),a=(0,ma.isIP)(r);return a===4&&/^127\./.test(r)||a===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(o.host)?!1:o.protocol==="file:"}function Tt(o){return/^about:(blank|srcdoc)$/.test(o)||o.protocol==="data:"||/^(blob|filesystem):$/.test(o.protocol)?!0:Ws(o)}function ga(o,{referrerURLCallback:r,referrerOriginCallback:a}={}){if(o.referrer==="no-referrer"||o.referrerPolicy==="")return null;let s=o.referrerPolicy;if(o.referrer==="about:client")return"no-referrer";let u=o.referrer,l=ha(u),c=ha(u,!0);l.toString().length>4096&&(l=c),r&&(l=r(l)),a&&(c=a(c));let _=new URL(o.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return c;case"unsafe-url":return l;case"strict-origin":return Tt(l)&&!Tt(_)?"no-referrer":c.toString();case"strict-origin-when-cross-origin":return l.origin===_.origin?l:Tt(l)&&!Tt(_)?"no-referrer":c;case"same-origin":return l.origin===_.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===_.origin?l:c;case"no-referrer-when-downgrade":return Tt(l)&&!Tt(_)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function _a(o){let r=(o.get("referrer-policy")||"").split(/[,\s]+/),a="";for(let s of r)s&&ba.has(s)&&(a=s);return a}var H=Symbol("Request internals"),jr=o=>typeof o=="object"&&typeof o[H]=="object",We=class extends Te{constructor(r,a={}){let s;if(jr(r)?s=new URL(r.url):(s=new URL(r),r={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentails.`);let u=a.method||r.method||"GET";if(u=u.toUpperCase(),(a.body!=null||jr(r))&&r.body!==null&&(u==="GET"||u==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=a.body?a.body:jr(r)&&r.body!==null?Rt(r):null;super(l,{size:a.size||r.size||0});let c=new oe(a.headers||r.headers||{});if(l!==null&&!c.has("Content-Type")){let h=Mr(l,this);h&&c.set("Content-Type",h)}let _=jr(r)?r.signal:null;if("signal"in a&&(_=a.signal),_!=null&&!na(_))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let b=a.referrer==null?r.referrer:a.referrer;if(b==="")b="no-referrer";else if(b){let h=new URL(b);b=/^about:(\/\/)?client$/.test(h)?"client":h}else b=void 0;this[H]={method:u,redirect:a.redirect||r.redirect||"follow",headers:c,parsedURL:s,signal:_,referrer:b},this.follow=a.follow===void 0?r.follow===void 0?20:r.follow:a.follow,this.compress=a.compress===void 0?r.compress===void 0?!0:r.compress:a.compress,this.counter=a.counter||r.counter||0,this.agent=a.agent||r.agent,this.highWaterMark=a.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=a.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=a.referrerPolicy||r.referrerPolicy||""}get method(){return this[H].method}get url(){return(0,Sa.format)(this[H].parsedURL)}get headers(){return this[H].headers}get redirect(){return this[H].redirect}get signal(){return this[H].signal}get referrer(){if(this[H].referrer==="no-referrer")return"";if(this[H].referrer==="client")return"about:client";if(this[H].referrer)return this[H].referrer.toString()}get referrerPolicy(){return this[H].referrerPolicy}set referrerPolicy(r){this[H].referrerPolicy=ya(r)}clone(){return new We(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(We.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var wa=o=>{let{parsedURL:r}=o[H],a=new oe(o[H].headers);a.has("Accept")||a.set("Accept","*/*");let s=null;if(o.body===null&&/^(post|put)$/i.test(o.method)&&(s="0"),o.body!==null){let _=la(o);typeof _=="number"&&!Number.isNaN(_)&&(s=String(_))}s&&a.set("Content-Length",s),o.referrerPolicy===""&&(o.referrerPolicy=pa),o.referrer&&o.referrer!=="no-referrer"?o[H].referrer=ga(o):o[H].referrer="no-referrer",o[H].referrer instanceof URL&&a.set("Referer",o.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),o.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip,deflate,br");let{agent:u}=o;typeof u=="function"&&(u=u(r)),!a.has("Connection")&&!u&&a.set("Connection","close");let l=da(r),c={path:r.pathname+l,method:o.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:o.insecureHTTPParser,agent:u};return{parsedURL:r,options:c}};var Nr=class extends Oe{constructor(r,a="aborted"){super(r,a)}};var Ds=new Set(["data:","http:","https:"]);async function xr(o,r){return new Promise((a,s)=>{let u=new We(o,r),{parsedURL:l,options:c}=wa(u);if(!Ds.has(l.protocol))throw new TypeError(`node-fetch cannot load ${o}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let y=Qo(u.url),C=new K(y,{headers:{"Content-Type":y.typeFull}});a(C);return}let _=(l.protocol==="https:"?Ta.default:Ra.default).request,{signal:b}=u,h=null,p=()=>{let y=new Nr("The operation was aborted.");s(y),u.body&&u.body instanceof ue.default.Readable&&u.body.destroy(y),!(!h||!h.body)&&h.body.emit("error",y)};if(b&&b.aborted){p();return}let S=()=>{p(),g()},w=_(l,c);b&&b.addEventListener("abort",S);let g=()=>{w.abort(),b&&b.removeEventListener("abort",S)};w.on("error",y=>{s(new se(`request to ${u.url} failed, reason: ${y.message}`,"system",y)),g()}),Fs(w,y=>{h.body.destroy(y)}),process.version<"v14"&&w.on("socket",y=>{let C;y.prependListener("end",()=>{C=y._eventsCount}),y.prependListener("close",E=>{if(h&&C<y._eventsCount&&!E){let P=new Error("Premature close");P.code="ERR_STREAM_PREMATURE_CLOSE",h.body.emit("error",P)}})}),w.on("response",y=>{w.setTimeout(0);let C=ca(y.rawHeaders);if(Ur(y.statusCode)){let D=C.get("Location"),U=D===null?null:new URL(D,u.url);switch(u.redirect){case"error":s(new se(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),g();return;case"manual":U!==null&&C.set("Location",U);break;case"follow":{if(U===null)break;if(u.counter>=u.follow){s(new se(`maximum redirect reached at: ${u.url}`,"max-redirect")),g();return}let q={headers:new oe(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:Rt(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(y.statusCode!==303&&u.body&&r.body instanceof ue.default.Readable){s(new se("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&u.method==="POST")&&(q.method="GET",q.body=void 0,q.headers.delete("content-length"));let J=_a(C);J&&(q.referrerPolicy=J),a(xr(new We(U,q))),g();return}default:return s(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}b&&y.once("end",()=>{b.removeEventListener("abort",S)});let E=(0,ue.pipeline)(y,new ue.PassThrough,s);process.version<"v12.10"&&y.on("aborted",S);let P={url:u.url,status:y.statusCode,statusText:y.statusMessage,headers:C,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},R=C.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||R===null||y.statusCode===204||y.statusCode===304){h=new K(E,P),a(h);return}let $={flush:rt.default.Z_SYNC_FLUSH,finishFlush:rt.default.Z_SYNC_FLUSH};if(R==="gzip"||R==="x-gzip"){E=(0,ue.pipeline)(E,rt.default.createGunzip($),s),h=new K(E,P),a(h);return}if(R==="deflate"||R==="x-deflate"){(0,ue.pipeline)(y,new ue.PassThrough,s).once("data",U=>{E=(U[0]&15)===8?(0,ue.pipeline)(E,rt.default.createInflate(),s):(0,ue.pipeline)(E,rt.default.createInflateRaw(),s),h=new K(E,P),a(h)});return}if(R==="br"){E=(0,ue.pipeline)(E,rt.default.createBrotliDecompress(),s),h=new K(E,P),a(h);return}h=new K(E,P),a(h)}),fa(w,u)})}function Fs(o,r){let a=Buffer.from(`0\r
\r
`),s=!1,u=!1,l;o.on("response",c=>{let{headers:_}=c;s=_["transfer-encoding"]==="chunked"&&!_["content-length"]}),o.on("socket",c=>{let _=()=>{if(s&&!u){let b=new Error("Premature close");b.code="ERR_STREAM_PREMATURE_CLOSE",r(b)}};c.prependListener("close",_),o.on("abort",()=>{c.removeListener("close",_)}),c.on("data",b=>{u=Buffer.compare(b.slice(-5),a)===0,!u&&l&&(u=Buffer.compare(l.slice(-3),a.slice(0,3))===0&&Buffer.compare(b.slice(-2),a.slice(3))===0),l=b})})}var F=require("react");function Aa(o,r,a,s){function u(l){return l instanceof a?l:new a(function(c){c(l)})}return new(a||(a=Promise))(function(l,c){function _(p){try{h(s.next(p))}catch(S){c(S)}}function b(p){try{h(s.throw(p))}catch(S){c(S)}}function h(p){p.done?l(p.value):u(p.value).then(_,b)}h((s=s.apply(o,r||[])).next())})}function Pa(o,r){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,u,l,c;return c={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function _(h){return function(p){return b([h,p])}}function b(h){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,u&&(l=h[0]&2?u.return:h[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,h[1])).done)return l;switch(u=0,l&&(h=[h[0]&2,l.value]),h[0]){case 0:case 1:l=h;break;case 4:return a.label++,{value:h[1],done:!1};case 5:a.label++,u=h[1],h=[0];continue;case 7:h=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(h[0]===6||h[0]===2)){a=0;continue}if(h[0]===3&&(!l||h[1]>l[0]&&h[1]<l[3])){a.label=h[1];break}if(h[0]===6&&a.label<l[1]){a.label=l[1],l=h;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(h);break}l[2]&&a.ops.pop(),a.trys.pop();continue}h=r.call(o,a)}catch(p){h=[6,p],u=0}finally{s=l=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var ve=function(){},Z=ve(),Qt=Object,le=function(o){return o===Z},Kt=function(o){return typeof o=="function"},ot=function(o,r){return Qt.assign({},o,r)},Ln="undefined",In=function(){return typeof window!=Ln},qs=function(){return typeof document!=Ln},Ls=function(){return In()&&typeof window.requestAnimationFrame!=Ln},Hr=new WeakMap,Is=0,Zt=function(o){var r=typeof o,a=o&&o.constructor,s=a==Date,u,l;if(Qt(o)===o&&!s&&a!=RegExp){if(u=Hr.get(o),u)return u;if(u=++Is+"~",Hr.set(o,u),a==Array){for(u="@",l=0;l<o.length;l++)u+=Zt(o[l])+",";Hr.set(o,u)}if(a==Qt){u="#";for(var c=Qt.keys(o).sort();!le(l=c.pop());)le(o[l])||(u+=l+":"+Zt(o[l])+",");Hr.set(o,u)}}else u=s?o.toJSON():r=="symbol"?o.toString():r=="string"?JSON.stringify(o):""+o;return u},On=!0,zs=function(){return On},Ba=In(),zn=qs(),Wn=Ba&&window.addEventListener?window.addEventListener.bind(window):ve,Ms=zn?document.addEventListener.bind(document):ve,Dn=Ba&&window.removeEventListener?window.removeEventListener.bind(window):ve,$s=zn?document.removeEventListener.bind(document):ve,Us=function(){var o=zn&&document.visibilityState;return le(o)||o!=="hidden"},js=function(o){return Ms("visibilitychange",o),Wn("focus",o),function(){$s("visibilitychange",o),Dn("focus",o)}},Ns=function(o){var r=function(){On=!0,o()},a=function(){On=!1};return Wn("online",r),Wn("offline",a),function(){Dn("online",r),Dn("offline",a)}},xs={isOnline:zs,isVisible:Us},Hs={initFocus:js,initReconnect:Ns},Yr=!In()||"Deno"in window,Vs=function(o){return Ls()?window.requestAnimationFrame(o):setTimeout(o,1)},Gt=Yr?F.useEffect:F.useLayoutEffect,Bn=typeof navigator<"u"&&navigator.connection,va=!Yr&&Bn&&(["slow-2g","2g"].includes(Bn.effectiveType)||Bn.saveData),ka=function(o){if(Kt(o))try{o=o()}catch{o=""}var r=[].concat(o);o=typeof o=="string"?o:(Array.isArray(o)?o.length:o)?Zt(o):"";var a=o?"$err$"+o:"",s=o?"$req$"+o:"";return[o,r,a,s]},nt=new WeakMap,Oa=0,Wa=1,Da=2,Vr=function(o,r,a,s,u,l,c){c===void 0&&(c=!0);var _=nt.get(o),b=_[0],h=_[1],p=_[4],S=b[r],w=h[r]||[];if(c&&w)for(var g=0;g<w.length;++g)w[g](a,s,u);return l&&(delete p[r],S&&S[0])?S[0](Da).then(function(){return o.get(r)}):o.get(r)},Ys=0,Fn=function(){return++Ys},Fa=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return Aa(void 0,void 0,void 0,function(){var a,s,u,l,c,_,b,h,p,S,w,g,y,C,E,P,R;return Pa(this,function($){switch($.label){case 0:if(a=o[0],s=o[1],u=o[2],l=o[3],c=typeof l=="boolean"?{revalidate:l}:l||{},_=c.revalidate!==!1,b=c.populateCache!==!1,h=ka(s),p=h[0],S=h[2],!p)return[2];if(w=nt.get(a),g=w[2],y=w[3],o.length<3)return[2,Vr(a,p,a.get(p),a.get(S),Z,_,b)];if(C=u,P=g[p]=Fn(),y[p]=0,Kt(C))try{C=C(a.get(p))}catch(D){E=D}return C&&Kt(C.then)?[4,C.catch(function(D){E=D})]:[3,2];case 1:if(C=$.sent(),P!==g[p]){if(E)throw E;return[2,C]}$.label=2;case 2:return b&&(E||a.set(p,C),a.set(S,E)),y[p]=Fn(),[4,Vr(a,p,C,E,Z,_,b)];case 3:if(R=$.sent(),E)throw E;return[2,b?R:C]}})})},Ea=function(o,r){for(var a in o)o[a][0]&&o[a][0](r)},qa=function(o,r){if(!nt.has(o)){var a=ot(Hs,r),s={},u=Fa.bind(Z,o),l=ve;if(nt.set(o,[s,{},{},{},{},u]),!Yr){var c=a.initFocus(setTimeout.bind(Z,Ea.bind(Z,s,Oa))),_=a.initReconnect(setTimeout.bind(Z,Ea.bind(Z,s,Wa)));l=function(){c&&c(),_&&_(),nt.delete(o)}}return[o,u,l]}return[o,nt.get(o)[5]]},Qs=function(o,r,a,s,u){var l=a.errorRetryCount,c=u.retryCount,_=~~((Math.random()+.5)*(1<<(c<8?c:8)))*a.errorRetryInterval;!le(l)&&c>l||setTimeout(s,_,u)},La=qa(new Map),Ia=La[0],Gs=La[1],za=ot({onLoadingSlow:ve,onSuccess:ve,onError:ve,onErrorRetry:Qs,onDiscarded:ve,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:va?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:va?5e3:3e3,compare:function(o,r){return Zt(o)==Zt(r)},isPaused:function(){return!1},cache:Ia,mutate:Gs,fallback:{}},xs),Ma=function(o,r){var a=ot(o,r);if(r){var s=o.use,u=o.fallback,l=r.use,c=r.fallback;s&&l&&(a.use=s.concat(l)),u&&c&&(a.fallback=ot(u,c))}return a},qn=(0,F.createContext)({}),Ks=function(o){var r=o.value,a=Ma((0,F.useContext)(qn),r),s=r&&r.provider,u=(0,F.useState)(function(){return s?qa(s(a.cache||Ia),r):Z})[0];return u&&(a.cache=u[0],a.mutate=u[1]),Gt(function(){return u?u[2]:Z},[]),(0,F.createElement)(qn.Provider,ot(o,{value:a}))},Zs=function(o,r){var a=(0,F.useState)({})[1],s=(0,F.useRef)(o),u=(0,F.useRef)({data:!1,error:!1,isValidating:!1}),l=(0,F.useCallback)(function(c){var _=!1,b=s.current;for(var h in c){var p=h;b[p]!==c[p]&&(b[p]=c[p],u.current[p]&&(_=!0))}_&&!r.current&&a({})},[]);return Gt(function(){s.current=o}),[s,u.current,l]},Js=function(o){return Kt(o[1])?[o[0],o[1],o[2]||{}]:[o[0],null,(o[1]===null?o[2]:o[1])||{}]},Xs=function(){return ot(za,(0,F.useContext)(qn))},eu=function(o){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=Xs(),u=Js(r),l=u[0],c=u[1],_=u[2],b=Ma(s,_),h=o,p=b.use;if(p)for(var S=p.length;S-- >0;)h=p[S](h);return h(l,c||b.fetcher,b)}},Ca=function(o,r,a){var s=r[o]||(r[o]=[]);return s.push(a),function(){var u=s.indexOf(a);u>=0&&(s[u]=s[s.length-1],s.pop())}},kn={dedupe:!0},tu=function(o,r,a){var s=a.cache,u=a.compare,l=a.fallbackData,c=a.suspense,_=a.revalidateOnMount,b=a.refreshInterval,h=a.refreshWhenHidden,p=a.refreshWhenOffline,S=nt.get(s),w=S[0],g=S[1],y=S[2],C=S[3],E=S[4],P=ka(o),R=P[0],$=P[1],D=P[2],U=P[3],q=(0,F.useRef)(!1),J=(0,F.useRef)(!1),Y=(0,F.useRef)(R),vt=(0,F.useRef)(r),at=(0,F.useRef)(a),L=function(){return at.current},ge=function(){return L().isVisible()&&L().isOnline()},it=s.get(R),Jt=le(l)?a.fallback[R]:l,de=le(it)?Jt:it,Ee=s.get(D),Xt=function(){return le(_)?L().isPaused()?!1:c?!le(de):le(de)||a.revalidateIfStale:_},er=function(){return!R||!r?!1:s.get(U)?!0:!q.current&&Xt()},st=er(),ut=Zs({data:de,error:Ee,isValidating:st},J),_e=ut[0],je=ut[1],Ne=ut[2],Ce=(0,F.useCallback)(function(N){return Aa(void 0,void 0,void 0,function(){var M,X,ee,Q,Ae,te,x,Se,ae,xe,fe,lt;return Pa(this,function(Pe){switch(Pe.label){case 0:if(M=vt.current,!R||!M||J.current||L().isPaused())return[2,!1];Q=!0,Ae=N||{},te=!E[R]||!Ae.dedupe,x=function(){return!J.current&&R===Y.current&&q.current},Se=function(){var He=E[R];He&&He[1]===ee&&delete E[R]},ae={isValidating:!1},xe=function(){s.set(U,!1),x()&&Ne(ae)},s.set(U,!0),Ne({isValidating:!0}),Pe.label=1;case 1:return Pe.trys.push([1,3,,4]),te&&(Vr(s,R,_e.current.data,_e.current.error,!0),a.loadingTimeout&&!s.get(R)&&setTimeout(function(){Q&&x()&&L().onLoadingSlow(R,a)},a.loadingTimeout),E[R]=[M.apply(void 0,$),Fn()]),lt=E[R],X=lt[0],ee=lt[1],[4,X];case 2:return X=Pe.sent(),te&&setTimeout(Se,a.dedupingInterval),!E[R]||E[R][1]!==ee?(te&&x()&&L().onDiscarded(R),[2,!1]):(s.set(D,Z),ae.error=Z,!le(y[R])&&(ee<=y[R]||ee<=C[R]||C[R]===0)?(xe(),te&&x()&&L().onDiscarded(R),[2,!1]):(u(_e.current.data,X)?ae.data=_e.current.data:ae.data=X,u(s.get(R),X)||s.set(R,X),te&&x()&&L().onSuccess(X,R,a),[3,4]));case 3:return fe=Pe.sent(),Se(),L().isPaused()||(s.set(D,fe),ae.error=fe,te&&x()&&(L().onError(fe,R,a),a.shouldRetryOnError&&ge()&&L().onErrorRetry(fe,R,a,Ce,{retryCount:(Ae.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Q=!1,xe(),x()&&te&&Vr(s,R,ae.data,ae.error,!1),[2,!0]}})})},[R]),Gr=(0,F.useCallback)(Fa.bind(Z,s,function(){return Y.current}),[]);if(Gt(function(){vt.current=r,at.current=a}),Gt(function(){if(!!R){var N=q.current,M=Ce.bind(Z,kn),X=function(x,Se,ae){Ne(ot({error:Se,isValidating:ae},u(_e.current.data,x)?Z:{data:x}))},ee=0,Q=function(x){if(x==Oa){var Se=Date.now();L().revalidateOnFocus&&Se>ee&&ge()&&(ee=Se+L().focusThrottleInterval,M())}else if(x==Wa)L().revalidateOnReconnect&&ge()&&M();else if(x==Da)return Ce()},Ae=Ca(R,g,X),te=Ca(R,w,Q);return J.current=!1,Y.current=R,q.current=!0,N&&Ne({data:de,error:Ee,isValidating:st}),Xt()&&(le(de)||Yr?M():Vs(M)),function(){J.current=!0,Ae(),te()}}},[R,Ce]),Gt(function(){var N;function M(){var ee=Kt(b)?b(de):b;ee&&N!==-1&&(N=setTimeout(X,ee))}function X(){!_e.current.error&&(h||L().isVisible())&&(p||L().isOnline())?Ce(kn).then(M):M()}return M(),function(){N&&(clearTimeout(N),N=-1)}},[b,h,p,Ce]),(0,F.useDebugValue)(de),c&&le(de)&&R)throw le(Ee)?Ce(kn):Ee;return{mutate:Gr,get data(){return je.data=!0,de},get error(){return je.error=!0,Ee},get isValidating(){return je.isValidating=!0,st}}},sl=Qt.defineProperty(Ks,"default",{value:za});var $a=eu(tu);var Ua=o=>{switch(o){case 6:return"User not found.";case 10:return"Invalid API key.";case 29:return"Rate limit exceeded. Please wait a while.";default:return"Unknown error."}};var ru=o=>{try{let r=o.method==="top"?"gettoptracks":"getrecenttracks",[a,s]=(0,Qr.useState)([]),[u,l]=(0,Qr.useState)(!0),[c,_]=(0,Qr.useState)(null),b=p=>{_(p),l(!1)},h=p=>xr(p).then(S=>S.json());return $a(`https://ws.audioscrobbler.com/2.0/?method=user.${r}&user=${o.username}&api_key=${o.apikey}&format=json&period=${o.period}&limit=${o.limit||24}`,h,{onSuccess:p=>{if(p.error){let S=Ua(p.error);b(new Error(S))}else{let S=p.recenttracks?.track||p.toptracks?.track||[];s(S),l(!1)}},onError:b}),{loading:u,error:c?.message||null,songs:a}}catch(r){return{loading:!1,error:r?.mesage||null,songs:[]}}},ja=ru;var Ue=require("react/jsx-runtime"),nu=()=>{let{username:o,apikey:r,period:a,limit:s}=(0,V.getPreferenceValues)(),{loading:u,error:l,songs:c}=ja({username:o,apikey:r,period:a,limit:s,method:"recent"});return l!==null&&(0,V.showToast)(V.ToastStyle.Failure,"Something went wrong.",String(l)),(0,Ue.jsx)(V.List,{isLoading:u,searchBarPlaceholder:"Search songs...",children:(0,Ue.jsx)(V.List.Section,{title:"Results",children:c.map((_,b)=>{let h=_,p=h.image.find(g=>g.size==="large")?.["#text"],S=h.artist?.["#text"],w=h["@attr"]?.nowplaying||!1;return(0,Ue.jsx)(V.List.Item,{icon:p,title:h.name,subtitle:S?`by ${S}`:void 0,accessoryTitle:w?"Now Playing":void 0,actions:(0,Ue.jsxs)(V.ActionPanel,{children:[(0,Ue.jsx)(V.OpenInBrowserAction,{url:h.url,title:"Open on Last.fm"}),(0,Ue.jsx)(V.CopyToClipboardAction,{title:"Copy URL to Clipboard",content:h.url}),(0,Ue.jsx)(V.CopyToClipboardAction,{title:"Copy Name and Artist",content:`${h.name} - ${S}`})]})},`${h.name}-${b}`)})})})},ou=nu;0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
